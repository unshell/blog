[{"title":"å¯¹äºæ„Ÿå†’çš„ä¸€äº›è®°å½•","url":"/blog/2020/10/09/å¯¹äºæ„Ÿå†’çš„ä¸€äº›è®°å½•/","content":"\n### å¥‹æˆ˜äº†ä¸€æ™š\n\n![ç°çŠ¶](/blog/image/virus/ç°çŠ¶.jpg)\n\nä¸è¦è¯¯ä¼šï¼Œè¿™äº›éƒ½æ˜¯æˆ‘æŠŠç²˜è†œæ¸—å‡ºç‰©åŒ…è£¹èµ·æ¥çš„åœºæ™¯ã€‚\n\nå°±åœ¨å›½åº†å’Œä¸­ç§‹è¿æ”¾é•¿å‡æœŸé—´æˆ‘æ„Ÿå†’äº†ï¼ŒğŸ˜å“âˆ½ï¼ˆè¿˜å¥½æ²¡æœ‰å‘çƒ§ï¼Œä¸ç„¶å·²ç»è¢«éš”ç¦»äº†ï¼‰ï¼Œæ‰€ä»¥å†™ç‚¹ç›¸å…³çš„å†…å®¹è®°å½•ä¸€ä¸‹ã€‚\n\n### æ€ä¹ˆå°±æ„Ÿå†’äº†ï¼Ÿ\n\n#### 1.ä½ ç€å‡‰äº†\n\nå½“ç„¶ç€å‡‰çš„åŸå› æœ‰å¾ˆå¤šç§ï¼Œæ¯”å¦‚ï¼šæ™šä¸Šè¸¢è¢«å­ï¼Œæ·‹åˆ°é›¨äº†ã€‚\n\nç§ç§åŸå› è®©ä½ çš„ä½“æ¸©é™ä½äº†ï¼Œè€Œ`rhinovirus`äººé¼»ç—…æ¯’æ­£å¥½åœ¨ä½æ¸©ä¸‹æ›´å®¹æ˜“ç¹æ®–ï¼Œäºæ˜¯ä½ è¢«è½¬äº†ç©ºå­ã€‚\n\n#### 2.ä½ è¢«ä¼ æŸ“äº†\n\nå‡å¦‚ä½ å’Œæµæ„Ÿç—…æ¯’æ‚£è€…èŠå¤©æ—¶ï¼Œä»–æ­£å¥½æ‰“äº†ä¸ªå–·åšï¼Œé£æ²«åˆåˆšå¥½è¢«ä½ å¸å…¥é¼»å­ï¼Œè€Œæ°å¥½ç—…æ¯’ä»ä½ çš„é¼»è…”å·æ‘¸çš„æºœåˆ°ä½ çš„å’½å–‰éƒ¨ä½ï¼Œè¿™ä¸ªæ—¶å€™ä¸€åœºå¤§æˆ˜å³å°†å¼€å§‹æ‰“å“äº†ã€‚\n\n> å½“ç„¶ä¸¤ç§ç±»å‹æ˜¯ä¸åŒçš„ï¼Œç—‡çŠ¶ä¹Ÿç•¥æœ‰ä¸åŒã€‚\n\n### é¼»å­å µäº†å¥½éš¾å—\n\né¼»å­å µäº†æ˜¯æ„Ÿå†’æœ€éš¾å—çš„ç°è±¡ä¹‹ä¸€ï¼Œä¸å¯¹ï¼Œæ˜¯å”¯ä¸€ğŸ˜¤ã€‚\n\né¼»æ¶•æ°´å·²ç»æµæˆè¿™æ ·äº†ï¼Œç«Ÿç„¶è¿˜æŠŠæˆ‘é¼»å­ç»™å µæ‰ï¼Œè¿™ä¸æ˜¯é›ªä¸ŠåŠ éœœå˜›ï¼\n\næˆ‘ä»¬å¯ä»¥å…ˆçœ‹ä¸‹é¼»è…”çš„ç»“æ„ï¼Œå¦‚ä¸‹å›¾ï¼š\n\n![é¼»è…”çŠ¶åˆ‡é¢è§£åˆ¨å›¾](/blog/image/virus/nasal.jpg)\n\nå¯ä»¥çœ‹åˆ°é¼»è…”çš„ä¸­é—´æœ‰ä¸‰æ¡æ æ˜¯é¼»ç”²ï¼Œè€Œä¸­é—´çš„ç©ºéš™å°±æ˜¯å…è®¸æ°”æµé€šè¿‡çš„éƒ¨åˆ†ï¼ˆäº‹å®ä¸Šç©ºé—´åŸæœ¬å°±ä¸æ˜¯å¾ˆå¤§ï¼‰ã€‚\n\n> å½“é¼»è…”å†…çš„ç²˜è†œå‘ç‚ï¼Œå……è¡€äº§ç”Ÿè‚¿èƒ€ï¼ˆè®©ç©ºæ°”æµé€šçš„é€šé“æ›´åŠ æ‹¥æŒ¤ï¼‰ä»¥åŠæ¸—å‡ºï¼Œå°±å‡ºç°äº†é¼»å¡å’Œæµé¼»æ¶•çš„ç°è±¡ã€‚\n\nå…¶å®å¯¹äºæˆ‘ä»¬æ¥è¯´ï¼Œç”±äºæ„Ÿå†’å¯¼è‡´é¼»å­å µå¡æ—¶éƒ½ä¼šæœ‰ä¸ªå°æŠ€å·§è®©è‡ªå·±èˆ’æœç‚¹ã€‚\n\n#### 1.ä¾§èºº\n\nå½“æˆ‘ä»¬ä¾§ç€èººç€æ—¶ï¼Œä¾§èººè¾¹çš„é¼»å­å°±ä¼šé€šå¸¸å¾ˆå¤šã€‚\n\nç»“åˆä¸Šé¢è¯´çš„åŸç†æ¥è¯´ï¼Œå°±æ˜¯æŠŠè‚¿èƒ€çš„ç²˜è†œé‚£è¾¹æœä¸Šï¼Œè¡€æ¶²åˆ°è¾¾ä¸äº†è‚¿èƒ€çš„é«˜åº¦ï¼Œè¿™æ ·ä¾§èººè¾¹çš„é¼»å­ç›¸å¯¹å°±ä¼šé€šç•…ä¸€äº›ã€‚\n\n#### 2.æ†‹æ°”\n\nå½“æˆ‘ä»¬å µä½é¼»å­å¾€é‡Œé¼“æ°”åé‚£ä¸€ç¬é—´ä¸¤ä¸ªé¼»å­å¼‚å¸¸çš„é€šç•…ã€‚\n\nåŸç†è·Ÿç®€å•ï¼Œå°±æ˜¯ä½ çš„å¤§è„‘åœ¨æŠ—äº‰ç—…æ¯’å’Œæ†‹æ­»é¢å‰é€‰æ‹©ä¸è®©ä½ æ†‹æ­»ã€‚\n\n#### 3.æ“å°¾éª¨å‡ åç§’\n\nè¿™ä¸ªæ–¹æ³•åªæ˜¯å¬è¯´è¿‡ï¼Œæ™®é€šäººè°ä¼šæƒ³åˆ°æ“å±è‚¡åçš„éª¨å¤´ä¼šç¼“è§£é¼»å¡å‘¢ï¼Ÿ\n\n### æ„Ÿå†’è¯ä¸æ²»æ„Ÿå†’\n\nå½“å¬åˆ°æ„Ÿå†’è¯ä¸æ²»æ„Ÿå†’æ—¶å…¶å®æˆ‘æ˜¯ä¸èƒ½æ¥å—çš„ã€‚\n\nä½†å®é™…ä¸Šæ„Ÿå†’èƒ½æ²»æ„ˆéƒ½æ˜¯å› ä¸ºæˆ‘ä»¬è‡ªå·±æœ¬èº«çš„å…ç–«ç³»ç»Ÿï¼Œè€Œæ„Ÿå†’è¯åªæ˜¯ç”¨æ¥æ§åˆ¶æ„Ÿå†’ç—‡çŠ¶ï¼ˆé¼»å¡ï¼Œå¤´ç–¼ï¼Œå‘çƒ­ï¼‰çš„ã€‚\n\n### æ²»ç–—æ„Ÿå†’çš„ä¸»åŠ›ï¼šå…ç–«ç³»ç»Ÿ\n\nå…¶å®ä»åˆšå¼€å§‹ç—…æ¯’è¿›å…¥æ—¶ï¼Œå…ç–«ç³»ç»Ÿå°±å¼€å§‹èµ·ä½œç”¨äº†ã€‚\n\n1. é¼»è…”çš„ç»’æ¯›å°±æ˜¯ç¬¬ä¸€é“é˜²çº¿ï¼Œæ•è·å¸è¿›çš„æ‰€æœ‰å¼‚ç‰©ï¼Œé€šè¿‡æ‰“å–·åšå’Œæµé¼»æ¶•æŠŠå¼‚ç‰©æ’é™¤ã€‚\n2. å½“ç„¶æ€»æœ‰æ¼ç½‘ä¹‹é±¼ï¼Œå®ƒä»¬çªç ´äº†ç¬¬ä¸€é“é˜²çº¿è¿›å…¥äº†å’½å–‰ã€‚å› ä¸ºç»†èƒæ˜¯é€šå…³è›‹ç™½è´¨ç›¸äº’æ²Ÿé€šçš„ï¼Œæ‰€ä»¥å®ƒå‡æ‰®æˆè›‹ç™½è´¨è¯±éª—ç»†èƒå¯¼è‡´æ„ŸæŸ“ã€‚è€Œæ„ŸæŸ“çš„ç»†èƒå¼€å§‹å¤åˆ¶ç—…æ¯’ï¼Œæœ€æ–°çš„ç—…æ¯’è¢«å¤åˆ¶ï¼Œå¼€å§‹è¯±éª—æ›´å¤šçš„ç»†èƒï¼Œä»¥æ­¤å¾€å¤ã€‚\n3. ç”±äºè¢«æ„ŸæŸ“çš„ç»†èƒè¶Šæ¥è¶Šå¤šï¼Œä»¥è‡³äºè¢«**å·¡é€»å…µï¼ˆä¸­æ€§ç²’ç»†èƒï¼‰**å‘ç°äº†ã€‚å®ƒä»¬å¸¦ç€æ›´å¤šçš„äººæ‰‹æ€æ­»ç—…æ¯’å’Œè¢«æ„ŸæŸ“çš„ç»†èƒï¼Œä½†æ˜¯æˆ˜äº‰å°±æ˜¯æ®‹é…·çš„ï¼ŒåŒæ–¹éƒ½æœ‰ä¼¤äº¡ã€‚\n4. å½“ç¬¬ä¸€æˆ˜æ‰“å®Œåï¼Œ**æ¸…æ´è½¦ï¼ˆå·¨å™¬ç»†èƒï¼‰**å°±å¼€å§‹æ¸…ç†æˆ˜åœºäº†ï¼Œäº‹å®ä¸Šå®ƒçš„åŠ¨ä½œæ˜¯å¾ˆç²—é²çš„ï¼Œä»¥è‡³äºæˆ‘ä»¬æ„Ÿè§‰åˆ°å–‰å’™ç—›ä¹Ÿæ˜¯å› ä¸ºå®ƒä»¬æ‰€å¯¼è‡´çš„ã€‚è€Œåå·¨å™¬ç»†èƒé‡Šæ”¾**ç™½ç»†èƒä»‹ç´ **ï¼Œè¿™ç§åŒ–å­¦ä¿¡å·ä¼šå¯¼è‡´ä½ æ„Ÿåˆ°ç–¼ç—›ä¹åŠ›ï¼Œæé†’ä½ ç”Ÿç—…äº†ã€‚æ›´ä¸»è¦æ˜¯è°ƒèŠ‚ä½ è„‘å£³é‡Œçš„**æ’æ¸©å™¨ï¼ˆä½“æ¸©è°ƒèŠ‚ä¸­æ¢ï¼Œç»´æŒ37Â°åº¦çš„ç¥å™¨ï¼‰**ï¼Œé‚£ç—…æ¯’è·Ÿæˆ‘ä»¬ä¸€æ ·åœ¨å¤©æ°”çƒ­çš„æ—¶å€™å·¥ä½œæ•ˆç‡ä¼šå˜ä½ã€‚\n5. å€¼å¾—åº†å¹¸çš„æ˜¯æˆ‘ä»¬æœ‰**æƒ…æŠ¥å‘˜ï¼ˆæ ‘çªçŠ¶ç»†èƒï¼‰**æ”¶é›†ç—…æ¯’ç¢ç‰‡ä¿¡æ¯ï¼Œå½“æ”¶é›†åˆ°è¶³å¤Ÿçš„ä¿¡æ¯åé€å¾€**å†›å¤‡åº“ï¼ˆæ·‹å·´è…ºï¼‰**ï¼Œå¾—åˆ°ä¿¡æ¯çš„å†›å¤‡åº“é©¬ä¸Šå¼€å§‹é…å¤‡å¯¹ä»˜ç—…æ¯’çš„**Tç»†èƒ**å’Œ**Bç»†èƒ**ï¼Œå¹¶å‰å¾€æˆ˜åœºç²¾å‡†çš„æ¶ˆç­ç—…æ¯’å’Œæ„ŸæŸ“ç»†èƒåŠæŠ‘åˆ¶æ–°ç—…æ¯’å†æ¬¡æ„ŸæŸ“ç»†èƒã€‚\n6. é€šè¿‡å’³å—½ä»¥åŠå…¶ä»–åŠæ³•æ’å‡ºæ®‹éª¸åï¼Œç—…æ¯’å½»åº•è¢«æ¶ˆç­åã€‚\n\nå½“æ–°çš„å’½å–‰ç»†èƒé‡æ–°ç”Ÿé•¿ï¼Œä½ çš„æ„Ÿå†’å°±ç—Šæ„ˆäº†ã€‚\n\n### ğŸ¦ ç—…æ¯’ï¼ˆvirusï¼‰\n\nä¸€ç§åªå«**DNA**æˆ–**RNA**çš„é—ä¼ å› å­ï¼Œå› ä¸ºé¢—ç²’æå°èƒ½é€šè¿‡ç»†èŒæ»¤å™¨ï¼Œåˆç§°**æ»¤è¿‡æ€§ç—…æ¯’**ã€‚\n\næµæ„Ÿç—…æ¯’å°±å±äºRNAç—…æ¯’ï¼Œå’Œæœ€è¿‘çˆ†å‘**ç–«æƒ…ï¼ˆå† çŠ¶ç—…æ¯’ï¼‰**ä¸€æ ·ä¹Ÿæ˜¯RNAç—…æ¯’ï¼Œå¤§è‡´é•¿è¿™æ ·ï¼š\n\n![RNAç—…æ¯’](/blog/image/virus/RNA_Virus.jpg)\n\n> å·¥ä½œæµå°±æ˜¯ä¸€ç³»åˆ—RNAçš„è½¬å½•ï¼Œå¤åˆ¶ï¼Œæœ€åç»„è£…æˆç†Ÿè€Œé‡Šæ”¾å‡ºæ¥ï¼Œå†ç»§ç»­æ„ŸæŸ“å…¶ä»–ç»†èƒ\n\nå†…å®¹å°±åˆ°è¿™é‡Œäº†ï¼Œä½ åªè¦çŸ¥é“è®©ä½ æ„Ÿå†’çš„ç©æ„å¾ˆä¸‹é¥­å°±è¡Œäº†ğŸ™‚ã€‚\n\n### å£°æ˜\n\næœ¬æ–‡å†…å®¹å¯¹äºå­¦æœ¯çŸ¥è¯†æ¥è¯´æ— ä»»ä½•å‚è€ƒä»·å€¼ï¼Œåªæ˜¯æœ¬äººä¸€æ—¶å…´èµ·åšçš„è®°å½•ã€‚","tags":["å¸¸è¯†"]},{"title":"ä¸€äººä¸€æ•…äº‹ | å‘¨æ ‘äºº","url":"/blog/2020/09/28/å‘¨æ ‘äººçš„æ•…äº‹/","content":"\n![å‘¨æ ‘äºº](/blog/image/shuren/zhoushuren.jpg)\n\n### æ—¶é—´è·¨åº¦\n\n- å…‰ç»ª ä¸ƒå¹´ - ä¸‰åå››å¹´ï¼ˆ1881 - 1908ï¼‰\n- å®£ç»Ÿ å…ƒå¹´ - äºŒå¹´ï¼ˆ1909 - 1910ï¼‰\n- æ°‘å›½ å…ƒå¹´ - äºŒåäº”å¹´ï¼ˆ1912 - 1936ï¼‰\n\n> 1881å¹´9æœˆ25æ—¥å‡ºç”Ÿäºæµ™æ±Ÿç»å…´åŸå†…ä¸œæ˜ŒåŠæ–°å°é—¨å‘¨å®¶ï¼Œé€ä¸–äº1936å¹´10æœˆ19æ—¥ä¸Šåˆã€‚\n\n### ç»å†\n\n- 1881å¹´å‡ºç”Ÿ\n- 1892å¹´ï¼ˆ11å²ï¼‰å»ä¸‰å‘³ä¹¦å±‹è·Ÿç€å¯¿é•œå¾å…ˆç”Ÿè¯»ä¹¦ï¼Œè¯¾ä½™æ—¶é—´ç”»ç”»ï¼Œç»“äº¤é—°åœŸï¼ˆç« é—°æ°´ï¼‰ä¸ºå¥½å‹ã€‚\n- 1893å¹´ï¼ˆ12å²ï¼‰ç¥–çˆ¶å› äº‹ä¸‹ç‹±ï¼Œçˆ¶äº²ï¼ˆå‘¨ä¼¯å®œï¼‰é‡ç—…ï¼Œå®¶é“ä¸­è½ã€‚\n- 1896å¹´ï¼ˆ15å²ï¼‰çˆ¶äº²å»ä¸–ï¼Œå¼€å§‹å†™æ—¥è®°ã€‚\n- 1897å¹´ï¼ˆ16å²ï¼‰åˆ†æˆ¿ï¼Œå› æ‹’ç»ç­¾å­—é­å”è¾ˆæ–¥è´£ã€‚\n- 1898å¹´ï¼ˆ17å²ï¼‰å»å—äº¬æ°´å¸ˆå­¦å ‚æ±‚å­¦ï¼Œæ”¹åä¸ºå‘¨æ ‘äººã€‚åŒå¹´å‚åŠ è¿‡å¿è€ƒå¹¶å…¥é€‰ï¼ˆæ‹’ç»åºœè€ƒï¼‰ã€‚\n- 1899å¹´ï¼ˆ18å²ï¼‰è½¬å…¥æ±Ÿå—é“è·¯å­¦å ‚ï¼Œå­¦å¼€çŸ¿ã€‚æ¥è§¦èµ«èƒ¥é»çš„ã€Šå¤©æ¼”è®ºã€‹ï¼Œçˆ±éª‘é©¬èµ›é©¬ã€‚\n- 1902å¹´ï¼ˆ22å²ï¼‰æ¯•ä¸šï¼ŒåŒå¹´3æœˆå»æ—¥æœ¬ç•™å­¦ã€‚åŒå¹´4æœˆæŠ¥è¯»æ—¥è¯­é€Ÿæˆç­ã€‚\n- 1903å¹´ï¼ˆ23å²ï¼‰å‰ªè¾«ï¼Œå¼€å§‹å…³æ³¨äººæ€§åŠå›½æ°‘æ€§é—®é¢˜ã€‚\n- 1904å¹´ï¼ˆ24å²ï¼‰é€Ÿæˆç­æ¯•ä¸šï¼Œ68å²çš„ç¥–çˆ¶å»ä¸–ã€‚æ±‚å­¦äºä»™å°åŒ»å­¦ä¸“é—¨å­¦é™¢ï¼ˆç°æ—¥æœ¬ä¸œåŒ—å¤§å­¦ï¼‰ã€‚ç›¸è¯†è—¤é‡ä¸¥ä¹éƒã€‚\n- 1906å¹´ï¼ˆ26å²ï¼‰å†³å®šå¼ƒåŒ»ä»æ–‡ï¼Œè¢«éª—å›å›½ä¸æœ±å®‰ç»“å©šï¼Œååˆå›ä¸œäº¬ä¸åœ¨è¯»ä¹¦å¹¶ä»äº‹æ–‡è‰ºè¯‘è‘—å·¥ä½œï¼Œä¹‹åå‡ å¹´é€šè¿‡ä¸åŒæ–¹å¼å­¦ä¹ äº†å¾·è¯­å’Œä¿„è¯­ã€‚\n- 1908å¹´ï¼ˆ28å²ï¼‰è·Ÿç« å¤ªç‚å…ˆç”Ÿå­¦ä¹ ï¼Œæˆä¸ºå…‰å¤ä¼šä¼šå‘˜ï¼Œç”Ÿæ´»è‰°éš¾ï¼Œä¸äºŒå¼Ÿï¼ˆå‘¨ä½œäººï¼‰ç¿»è¯‘ã€ŠåŸŸå¤–å°è¯´é›†ã€‹ï¼Œå·²æ ¡å¯¹ä¹¦ç¨¿è¡¥è´´ç”Ÿæ´»ã€‚\n- 1909å¹´ï¼ˆ29å²ï¼‰ã€ŠåŸŸå¤–å°è¯´é›†ã€‹äºŒå†Œå‡ºç‰ˆï¼ŒåŒå¹´8æœˆå›å›½ï¼Œæ‹…ä»»æ­å·ã€æµ™æ±Ÿä¸¤çº§å¸ˆèŒƒå­¦å ‚æ•™å‘˜ã€‚\n- 1910å¹´ï¼ˆ30å²ï¼‰æ‹…ä»»ç»å…´ä¸­å­¦å ‚æ•™å‘˜å…¼ç›‘å­¦ã€‚\n- 1911å¹´ï¼ˆ31å²ï¼‰ä¸ªäººæ–‡è¨€å°è¯´ã€Šæ€€æ—§ã€‹ã€‚\n- 1912å¹´ï¼ˆ32å²ï¼‰æ‹…ä»»æ•™è‚²éƒ¨ç¤¾ä¼šæ•™è‚²å¸ç¬¬ä¸€ç§‘ç§‘é•¿ï¼ŒåŒå¹´8æœˆæ‹…ä»»æ•™è‚²éƒ¨ä½¥äº‹ã€‚\n- 1917å¹´ï¼ˆ37å²ï¼‰7æœˆ7æ—¥ç¦»èŒï¼Œ14æ—¥åˆå¤èŒã€‚\n- 1918å¹´ï¼ˆ38å²ï¼‰1æœˆå‚åŠ ã€Šæ–°é’å¹´ã€‹æ”¹ç»„ï¼Œæ‹…ä»»ç¼–å§”ã€‚åŒå¹´5æœˆï¼Œç”¨é²è¿…ä¸ºç¬”åï¼Œå‘è¡¨ä¸­å›½ç°ä»£æ–‡å­¦å²ä¸Šç¬¬ä¸€ç¯‡ç”¨ç°ä»£ä½“å¼åˆ›ä½œçš„ç™½è¯çŸ­ç‰‡å°è¯´ã€Šç‹‚äººæ—¥è®°ã€‹ã€‚\n- 1920å¹´ï¼ˆ40å²ï¼‰åœ¨åŒ—äº¬å¤§å­¦è®²æˆä¸­å›½å°è¯´å²ï¼ŒåŒå¹´9æœˆå‘è¡¨å°è¯´ã€Šé£æ³¢ã€‹ã€‚\n- 1923å¹´ï¼ˆ43å²ï¼‰ã€Šå‘å–Šã€‹å‡ºç‰ˆã€‚ä¸å¼Ÿå¼Ÿåˆ†å±…ã€‚\n- 1924å¹´ï¼ˆ44å²ï¼‰æˆä¸ºã€Šè¯­ä¸ã€‹ä½œå®¶ç¾¤çš„ä¸»å°†ä¹‹ä¸€ã€‚\n- 1925å¹´ï¼ˆ45å²ï¼‰æ”¯æŒè¿›æ­¥å­¦ç”Ÿæ­£ä¹‰æ–—äº‰è¢«æ•™è‚²å±€æ€»é•¿ç½¢å»ä½¥äº‹èŒåŠ¡ï¼Œåå‘å¹³æ”¿é™¢çŠ¶å‘Šæ•™è‚²å±€æ€»é•¿ã€‚\n- 1926å¹´ï¼ˆ46å¹´ï¼‰3æœˆï¼Œä¸‰ä¸€å…«æƒ¨æ¡ˆï¼Œ4æœˆå†™å‡ºã€Šæ­»åœ°ã€‹ã€Šçºªå¿µåˆ˜å’Œçå›ã€‹ï¼Œé­è¿½æ•ï¼Œé¿éš¾åˆ°å±±æœ¬åŒ»é™¢ã€‚åŒå¹´8æœˆã€Šå½·å¾¨ã€‹å‡ºç‰ˆã€‚\n- 1927å¹´ï¼ˆ47å²ï¼‰å››ä¸€äºŒåé©å‘½æ”¿å˜ï¼Œ29æ—¥è¥æ•‘è¿›æ­¥å­¦ç”Ÿå¤±è´¥ã€‚åŒå¹´9æœˆæ‹’ç»ä½œä¸ºè¯ºè´å°”æ–‡å­¦å¥–å€™é€‰äººã€‚åŒå¹´12æœˆä¸æ¢ç§‹å®åµæ¶ã€‚\n- 1928å¹´ï¼ˆ48å²ï¼‰å‚åŠ ä¸­å›½é©å‘½äº’æµä¼šï¼Œæ”¶é›†é©¬å…‹æ€ä¸»ä¹‰è‘—ä½œå¹¶ç¿»è¯‘ã€‚æå€¡é©å‘½æ²¡æ•°ï¼Œç°ä»£æœ¨åˆ»è¿åŠ¨ã€‚\n- 1929å¹´ï¼ˆ49å²ï¼‰è®¸å¹¿å¹³ç”Ÿå­ï¼Œå–åå‘¨æµ·å©´ã€‚å•†è®®å»ºç«‹ä¸­å›½å·¦ç¿¼ä½œå®¶è”ç›Ÿã€‚\n- 1930å¹´ï¼ˆ50å²ï¼‰è”ç›Ÿæˆç«‹ã€‚\n- 1931å¹´ï¼ˆ51å²ï¼‰æŸ”çŸ³ï¼ˆè”ç›Ÿæˆå‘˜ä¹‹ä¸€ï¼‰è¢«é€®ï¼Œç¦»å¼€é¿éš¾ã€‚\n- 1932å¹´ï¼ˆ52å²ï¼‰æˆ˜äº‹å‘ç”Ÿï¼Œé¿éš¾é‡è‰¾é’ç­‰äººã€‚\n- 1933å¹´ï¼ˆ53å²ï¼‰ä½œã€Šä¸ºäº†å¿˜å´çš„çºªå¿µã€‹æ€€å¿µæŸ”çŸ³ã€‚\n- 1934å¹´ï¼ˆ54å²ï¼‰ã€ŠåŒ—å¹³ç¬ºè°±ã€‹å‡ºç‰ˆã€‚\n- 1935å¹´ï¼ˆ55å²ï¼‰è¯‘ä¹¦ã€Šæ­»é­‚çµã€‹ã€‚\n- 1936å¹´ï¼ˆ56å²ï¼‰1æœˆã€Šæ•…äº‹æ–°ç¼–ã€‹å‡ºç‰ˆï¼Œ10æœˆ19æ—¥ä¸Šåˆ5æ—¶25åˆ†é€ä¸–ã€‚\n\n### å°è¯´é›†ä¸åˆ†ç¯‡\n\n- å‘å–Š\n  - ç‹‚äººæ—¥è®°\n  - å­”ä¹™å·±\n  - è¯\n  - æ˜å¤©\n  - ä¸€ä»¶å°äº‹\n  - å¤´å‘çš„æ•…äº‹\n  - é£æ³¢\n  - æ•…ä¹¡\n  - é˜¿Qæ­£ä¼ \n  - ç«¯åˆèŠ‚\n  - ç™½å…‰\n  - å…”å’ŒçŒ«\n  - é¸­çš„å–œå‰§\n  - ç¤¾æˆ\n- å½·å¾¨\n  - ç¥ç¦\n  - åœ¨é…’æ¥¼ä¸Š\n  - å¹¸ç¦çš„å®¶åº­\n  - è‚¥çš‚\n  - é•¿æ˜ç¯\n  - ç¤ºä¼—\n  - é«˜è€å¤«å­\n  - å­¤ç‹¬è€…\n  - ä¼¤é€\n  - å¼Ÿå…„\n  - ç¦»å©š\n- æ•…äº‹æ–°ç¼–\n\n### ç¾æœ¯è®¾è®¡ä½œå“\n\n![çŒ«å¤´é¹°](/blog/image/shuren/maotouying.jpg)\n\n![çŒ«å¤´é¹°](/blog/image/shuren/maotouying2.jpg)\n\n![æ ¡å¾½](/blog/image/shuren/xiaohui.jpg)\n\n![å›½å¾½](/blog/image/shuren/guohui.jpg)","tags":["ä¸€äººä¸€æ•…äº‹"]},{"title":"CentOs å®‰è£… Redis","url":"/blog/2020/06/12/CentOså®‰è£…Redis/","content":"\n## å®‰è£…ç¯å¢ƒ\n\nç³»ç»Ÿï¼šCentOS Linux release 8.1.1911 (Core) | Redisç‰ˆæœ¬ï¼š6.0.5 | åšå®¢è®°å½•æ—¶é—´ï¼š2020-6-12 17:15:04\n\n### ä¸‹è½½æœ€æ–°ç¨³å®šç‰ˆ\n\n```\n# ä¸‹è½½å½“å‰æœ€æ–°ç‰ˆ\nwget http://download.redis.io/releases/redis-6.0.5.tar.gz\n# è§£å‹\ntar -zxvf redis-6.0.5.tar.gz\n# è¿›å…¥åˆ°è§£å‹åçš„æ–‡ä»¶å¤¹\ncd redis-6.0.5\n```\n\n### å®‰è£… Redis\n\n```shell\n# ç¼–è¯‘å‰å…ˆç¡®ä¿å®‰è£…äº†gccå’Œmake\nyum install -y gcc make\n# ç¼–è¯‘(å½“å‰ä½ç½®åœ¨redis-6.0.5ä¸­)\nmake\n# ç¼–è¯‘ç»“æœå¦‚ä¸‹ï¼š\n\tä¸€å †çš„CCç¼–è¯‘\n    LINK redis-server\n    INSTALL redis-sentinel\n    LINK redis-cli\n    LINK redis-benchmark\n    INSTALL redis-check-rdb\n    INSTALL redis-check-aof\n\nHint: It's a good idea to run 'make test' ;)\n# è¿›å…¥åˆ°srcç›®å½•\ncd src\n# å®‰è£…\nmake install\n# è¾“å‡ºå†…å®¹å¦‚ä¸‹ï¼š\n    INSTALL install\n    INSTALL install\n    INSTALL install\n    INSTALL install\n    INSTALL install\n# è¿è¡Œredis-server\nredis-server\n# è¾“å‡ºå†…å®¹å¦‚ä¸‹è¯´æ˜ï¼Œå®‰è£…æˆåŠŸï¼š\n7303:C 12 Jun 2020 17:59:37.751 # oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo\n7303:C 12 Jun 2020 17:59:37.751 # Redis version=6.0.5, bits=64, commit=00000000, modified=0, pid=7303, just started\n7303:C 12 Jun 2020 17:59:37.751 # Warning: no config file specified, using the default config. In order to specify a config file use redis-server /path/to/redis.conf\n7303:M 12 Jun 2020 17:59:37.751 * Increased maximum number of open files to 10032 (it was originally set to 1024).\n                _._                                                  \n           _.-``__ ''-._                                             \n      _.-``    `.  `_.  ''-._           Redis 6.0.5 (00000000/0) 64 bit\n  .-`` .-```.  ```\\/    _.,_ ''-._                                   \n (    '      ,       .-`  | `,    )     Running in standalone mode\n |`-._`-...-` __...-.``-._|'` _.-'|     Port: 6379\n |    `-._   `._    /     _.-'    |     PID: 7303\n  `-._    `-._  `-./  _.-'    _.-'                                   \n |`-._`-._    `-.__.-'    _.-'_.-'|                                  \n |    `-._`-._        _.-'_.-'    |           http://redis.io        \n  `-._    `-._`-.__.-'_.-'    _.-'                                   \n |`-._`-._    `-.__.-'    _.-'_.-'|                                  \n |    `-._`-._        _.-'_.-'    |                                  \n  `-._    `-._`-.__.-'_.-'    _.-'                                   \n      `-._    `-.__.-'    _.-'                                       \n          `-._        _.-'                                           \n              `-.__.-'                                               \n\n7303:M 12 Jun 2020 17:59:37.752 # WARNING: The TCP backlog setting of 511 cannot be enforced because /proc/sys/net/core/somaxconn is set to the lower value of 128.\n7303:M 12 Jun 2020 17:59:37.752 # Server initialized\n7303:M 12 Jun 2020 17:59:37.752 # WARNING overcommit_memory is set to 0! Background save may fail under low memory condition. To fix this issue add 'vm.overcommit_memory = 1' to /etc/sysctl.conf and then reboot or run the command 'sysctl vm.overcommit_memory=1' for this to take effect.\n7303:M 12 Jun 2020 17:59:37.752 # WARNING you have Transparent Huge Pages (THP) support enabled in your kernel. This will create latency and memory usage issues with Redis. To fix this issue run the command 'echo never > /sys/kernel/mm/transparent_hugepage/enabled' as root, and add it to your /etc/rc.local in order to retain the setting after a reboot. Redis must be restarted after THP is disabled.\n7303:M 12 Jun 2020 17:59:37.752 * Loading RDB produced by version 6.0.5\n7303:M 12 Jun 2020 17:59:37.752 * RDB age 885 seconds\n7303:M 12 Jun 2020 17:59:37.752 * RDB memory usage when created 0.77 Mb\n7303:M 12 Jun 2020 17:59:37.752 * DB loaded from disk: 0.000 seconds\n7303:M 12 Jun 2020 17:59:37.752 * Ready to accept connections\n```\n\n### é…ç½® Redis\n\nåœ¨åˆæ¬¡æ¥è§¦å‰æˆ‘ä»¬å°¤å…¶è¦æ³¨æ„ä¸‰ä¸ªæ–‡ä»¶ï¼š\n\n- redis-6.0.5\n  - redis.conf  `(é…ç½®æ–‡ä»¶)`\n  - src\n    - redis-server `(Redis æœåŠ¡)`\n    - redis-cli `(Redis å®¢æˆ·ç«¯)`\n\n```shell\n# ç”¨ vim æ‰“å¼€ redis-cli\nvim redis-cli\n# å¼€å¯å®ˆæŠ¤è¿›ç¨‹ï¼š\n# By default Redis does not run as a daemon. Use 'yes' if you need it.\n# Note that Redis will write a pid file in /var/run/redis.pid when daemonized.\ndaemonize yes\n# å…è®¸ä»»ä½•ç½‘ç»œæ¥å£è¿æ¥\nbind 127.0.0.1 ä¿®æ”¹ä¸º bind 0.0.0.0\n# è¿æ¥å¯†ç æˆæƒ\n# IMPORTANT NOTE: starting with Redis 6 \"requirepass\" is just a compatiblity\n# layer on top of the new ACL system. The option effect will be just setting\n# the password for the default user. Clients will still authenticate using\n# AUTH <password> as usually, or more explicitly with AUTH default <password>\n# if they follow the new protocol: both will work.\n#\nrequirepass [ä½ çš„å¯†ç ]\n# å½“ç„¶é™¤äº†åœ¨é…ç½®ä¸­è®¾ç½®å¯†ç ï¼Œä½ è¿˜å¯ä»¥åœ¨å®¢æˆ·ç«¯è®¾ç½®å¯†ç \nconfig set requirepass [ä½ çš„å¯†ç ]\n# å…¶ä»–çš„ä¸€äº›é…ç½®,å¦‚ä¿®æ”¹é»˜è®¤ç«¯å£(6379)\n# Accept connections on the specified port, default is 6379 (IANA #815344).\n# If port 0 is specified Redis will not listen on a TCP socket.\nport 6379\n```\n\n### è¿è¡Œ Redis æœåŠ¡\n\n```shell\n# é…ç½®ç›¸åº”çš„é…ç½®ä¹‹å(åŒ…æ‹¬å¼€å¯å®ˆæŠ¤è¿›ç¨‹),é€šè¿‡é…ç½®è¿è¡ŒæœåŠ¡\nredis-server ../redis.conf\n```\n\n### ç›¸å…³æ–‡æ¡£\n\n- [Redis Archived Versions](http://download.redis.io/releases/)","tags":["redis"]},{"title":"Tomcat éƒ¨ç½²é¡¹ç›®æ—¶é‡åˆ°çš„é—®é¢˜","url":"/blog/2020/04/23/Tomcatéƒ¨ç½²é¡¹ç›®æ—¶é‡åˆ°çš„é—®é¢˜/","content":"\n### 1.Unable to add the resource\n>org.apache.catalina.webresources.Cache.getResource Unable to add the resource\n\n**åŸå› ï¼š**èµ„æºç¼“å­˜ç©ºé—´ä¸è¶³ï¼Œå¾—é…ç½®æ›´å¤§çš„èµ„æºç¼“å­˜ç©ºé—´\n\n**è§£å†³æ–¹æ³•ï¼š**ä¿®æ”¹ Tomcat æ–‡ä»¶å¤¹ä¸‹ conf æ–‡ä»¶ä¸­çš„ context.xml æ–‡ä»¶ï¼Œæ·»åŠ å†…å®¹å¦‚ä¸‹ï¼š\n\n```xml\n<Context>\n\t<Resources cachingAllowed=\"true\" cacheMaxSize=\"150000\" ></Resources>\n</Context>\n```\n\n### 2.naming.namingContextCreationFailed\n>org.apache.catalina.core.NamingContextListener.lifecycleEvent naming.namingContextCreationFailed\n\n**åŸå› **ï¼šå‘½åç›‘å¬å™¨åˆ›å»ºå¤±è´¥\n\n### 3.è‡³å°‘æœ‰ä¸€ä¸ªJARè¢«æ‰«æç”¨äºTLDä½†å°šæœªåŒ…å«TLDã€‚\n>org.apache.jasper.servlet.TldScanner.scanJars è‡³å°‘æœ‰ä¸€ä¸ªJARè¢«æ‰«æç”¨äºTLDä½†å°šæœªåŒ…å«TLDã€‚ ä¸ºæ­¤è®°å½•å™¨å¯ç”¨è°ƒè¯•æ—¥å¿—è®°å½•ï¼Œä»¥è·å–å·²æ‰«æä½†æœªåœ¨å…¶ä¸­æ‰¾åˆ°TLDçš„å®Œæ•´JARåˆ—è¡¨ã€‚ åœ¨æ‰«ææœŸé—´è·³è¿‡ä¸éœ€è¦çš„JARå¯ä»¥ç¼©çŸ­å¯åŠ¨æ—¶é—´å’ŒJSPç¼–è¯‘æ—¶é—´ã€‚\n\n**ç­‰çº§ï¼š**è­¦å‘Š\n\n**è§£å†³æ–¹æ³•:**\n\n**1.ä¿®æ”¹ Tomcat æ–‡ä»¶å¤¹ä¸‹ conf æ–‡ä»¶å¤¹ä¸­ logging.properties æ–‡ä»¶**\n\n```properties\n# è¾“å‡ºè¢«æ‰«æTLDçš„JaråŒ…çš„åˆ—è¡¨\norg.apache.jasper.servlet.TldScanner.level = FINE\n```\n\n**2.é‡æ–°è¿è¡Œ Tomcat ï¼Œæ—¥å¿—è¾“å‡ºæ‰«æçš„JaråŒ…**\n\n**3.ä¿®æ”¹ Tomcat æ–‡ä»¶å¤¹ä¸‹ conf æ–‡ä»¶å¤¹ä¸­ catalina.properties æ–‡ä»¶**\n\n```properties\n# Default list of JAR files that should not be scanned using the JarScanner\n# functionality. This is typically used to scan JARs for configuration\n# information. JARs that do not contain such information may be excluded from\n# the scan to speed up the scanning process. This is the default list. JARs on\n# this list are excluded from all scans. The list must be a comma separated list\n# of JAR file names.\n# The list of JARs to skip may be over-ridden at a Context level for individual\n# scan types by configuring a JarScanner with a nested JarScanFilter.\n# The JARs listed below include:\n# - Tomcat Bootstrap JARs\n# - Tomcat API JARs\n# - Catalina JARs\n# - Jasper JARs\n# - Tomcat JARs\n# - Common non-Tomcat JARs\n# - Test JARs (JUnit, Cobertura and dependencies)\ntomcat.util.scan.StandardJarScanFilter.jarsToSkip=\\\nannotations-api.jar,\\ant-junit*.jar,\\ant-launcher.jar,\\\nant.jar,\\asm-*.jar,\\aspectj*.jar,\\bootstrap.jar,\\catalina-ant.jar,\\catalina-ha.jar,\\\ncatalina-ssi.jar,\\catalina-storeconfig.jar,\\catalina-tribes.jar,\\catalina.jar,\\cglib-*.jar,\\\ncobertura-*.jar,\\commons-beanutils*.jar,\\commons-codec*.jar,\\commons-collections*.jar,\\\ncommons-daemon.jar,\\commons-dbcp*.jar,\\commons-digester*.jar,\\\ncommons-fileupload*.jar,\\commons-httpclient*.jar,\\commons-io*.jar,\\commons-lang*.jar,\\\ncommons-logging*.jar,\\commons-math*.jar,\\commons-pool*.jar,\\dom4j-*.jar,\\easymock-*.jar,\\\necj-*.jar,\\el-api.jar,\\geronimo-spec-jaxrpc*.jar,\\h2*.jar,\\hamcrest-*.jar,\\hibernate*.jar,\\\nhttpclient*.jar,\\icu4j-*.jar,\\jasper-el.jar,\\jasper.jar,\\jaspic-api.jar,\\jaxb-*.jar,\\\njaxen-*.jar,\\jdom-*.jar,\\jetty-*.jar,\\jmx-tools.jar,\\jmx.jar,\\jsp-api.jar,\\jstl.jar,\\\njta*.jar,\\junit-*.jar,\\junit.jar,\\log4j*.jar,\\mail*.jar,\\objenesis-*.jar,\\oraclepki.jar,\\\noro-*.jar,\\servlet-api-*.jar,\\servlet-api.jar,\\slf4j*.jar,\\taglibs-standard-spec-*.jar,\\\ntagsoup-*.jar,\\tomcat-api.jar,\\tomcat-coyote.jar,\\tomcat-dbcp.jar,\\tomcat-i18n-*.jar,\\\ntomcat-jdbc.jar,\\tomcat-jni.jar,\\tomcat-juli-adapters.jar,\\tomcat-juli.jar,\\tomcat-util-scan.jar,\\\ntomcat-util.jar,\\tomcat-websocket.jar,\\tools.jar,\\websocket-api.jar,\\wsdl4j*.jar,\\xercesImpl.jar,\\\nxml-apis.jar,\\xmlParserAPIs-*.jar,\\xmlParserAPIs.jar,\\xom-*.jar\n# å°†è¦è·³è¿‡æ‰«æçš„åŒ…åœ¨åé¢æ·»åŠ \n# ä¾‹å­ï¼šmysql-connector-*.jar,\\\n# æ³¨æ„ä»¥ ,\\ åˆ†éš”\n```","tags":["bug"]},{"title":"Tomcat æœåŠ¡","url":"/blog/2020/04/23/TomcatæœåŠ¡/","content":"\n### ç¯å¢ƒ\n\nè¿è¡Œç¯å¢ƒï¼šWindows 10 | Apache Tomcat 9.0.34 | åšå®¢è®°å½•æ—¶é—´ï¼š2020-4-23 17:16:12\n\né€šå¸¸æˆ‘ä»¬ æ‰“å¼€ / å…³é—­ Tomcat æœåŠ¡æ—¶éƒ½ä¼šæ‰§è¡Œbinç›®å½•ä¸‹çš„ startup.bat / shutdown.bat æ–‡ä»¶ã€‚\n\nä½†æ˜¯ç»†å¿ƒçš„å°ä¼™ä¼´å°±ä¼šå‘ç°(â•®(ï¿£â–½ï¿£)â•­)ï¼Œ`startup.bat` å’Œ `shutdown.bat` æ–‡ä»¶ä¸­éƒ½æœ‰è¿™ä¹ˆä¸€å¥è¯ã€‚\n\n```bash\nrem ---------------------------------------------------------------------------\nrem Start / Stop script for the CATALINA Server\nrem ---------------------------------------------------------------------------\ncall \"%EXECUTABLE%\" start / stop %CMD_LINE_ARGS%\n```\n\næ‰€ä»¥ä¸è®ºæ˜¯ startup è¿˜æ˜¯ shutdown éƒ½æ˜¯æ‰§è¡Œäº† `catalina.bat`ï¼Œåªæ˜¯æ‰§è¡Œçš„æŒ‡ä»¤ä¸åŒã€‚\n\n### catalina.bat\n\né¦–é€‰æˆ‘ä»¬åˆ†æä¸‹ `catalina.bat` è„šæœ¬çš„å†…å®¹ï¼š\n\n```bash\nrem Guess CATALINA_HOME if not defined\nset \"CURRENT_DIR=%cd%\"\nif not \"%CATALINA_HOME%\" == \"\" goto gotHome\nset \"CATALINA_HOME=%CURRENT_DIR%\"\nif exist \"%CATALINA_HOME%\\bin\\catalina.bat\" goto okHome\ncd ..\nset \"CATALINA_HOME=%cd%\"\ncd \"%CURRENT_DIR%\"\n```\n\næ£€éªŒ CATALINA_HOME ç¯å¢ƒå˜é‡ï¼Œå¦‚æœä¸æ­£ç¡®åˆ™é‡æ–°è®¾ç½®ã€‚\n\n```bash\nset CLASSPATH=\n\nrem Get standard environment variables\nif not exist \"%CATALINA_BASE%\\bin\\setenv.bat\" goto checkSetenvHome\ncall \"%CATALINA_BASE%\\bin\\setenv.bat\"\ngoto setenvDone\n:checkSetenvHome\nif exist \"%CATALINA_HOME%\\bin\\setenv.bat\" call \"%CATALINA_HOME%\\bin\\setenv.bat\"\n:setenvDone\n\nrem Get standard Java environment variables\nif exist \"%CATALINA_HOME%\\bin\\setclasspath.bat\" goto okSetclasspath\necho Cannot find \"%CATALINA_HOME%\\bin\\setclasspath.bat\"\necho This file is needed to run this program\ngoto end\n:okSetclasspath\ncall \"%CATALINA_HOME%\\bin\\setclasspath.bat\" %1\nif errorlevel 1 goto end\n```\n\nè®¾ç½®ç¯å¢ƒå˜é‡ï¼š\n\n- åœ¨ CATALINA_BASE å’Œ CATALINA_BASE å¯»æ‰¾`setenv.bat`æ–‡ä»¶å¹¶æ‰§è¡Œï¼Œæ‰¾ä¸åˆ°åˆ™ä¸æ‰§è¡Œã€‚\n- å¯»æ‰¾`setclasspath.bat`(è®¾ç½® Java ç›¸å…³çš„ç¯å¢ƒå˜é‡)æ–‡ä»¶å¹¶æ‰§è¡Œï¼Œæ‰¾ä¸åˆ°åˆ™ç»“æŸã€‚\n\n```bash\nrem Add tomcat-juli.jar to classpath\nrem tomcat-juli.jar can be over-ridden per instance\nif not exist \"%CATALINA_BASE%\\bin\\tomcat-juli.jar\" goto juliClasspathHome\nset \"CLASSPATH=%CLASSPATH%;%CATALINA_BASE%\\bin\\tomcat-juli.jar\"\ngoto juliClasspathDone\n:juliClasspathHome\nset \"CLASSPATH=%CLASSPATH%;%CATALINA_HOME%\\bin\\tomcat-juli.jar\"\n:juliClasspathDone\n\nif not \"%JSSE_OPTS%\" == \"\" goto gotJsseOpts\nset \"JSSE_OPTS=-Djdk.tls.ephemeralDHKeySize=2048\"\n:gotJsseOpts\nset \"JAVA_OPTS=%JAVA_OPTS% %JSSE_OPTS%\"\n\nrem Register custom URL handlers\nrem Do this here so custom URL handles (specifically 'war:...') can be used in the security policy\nset \"JAVA_OPTS=%JAVA_OPTS% -Djava.protocol.handler.pkgs=org.apache.catalina.webresources\"\n\nif not \"%LOGGING_CONFIG%\" == \"\" goto noJuliConfig\nset LOGGING_CONFIG=-Dnop\nif not exist \"%CATALINA_BASE%\\conf\\logging.properties\" goto noJuliConfig\nset LOGGING_CONFIG=-Djava.util.logging.config.file=\"%CATALINA_BASE%\\conf\\logging.properties\"\n:noJuliConfig\n\nif not \"%LOGGING_MANAGER%\" == \"\" goto noJuliManager\nset LOGGING_MANAGER=-Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager\n:noJuliManager\n```\n\ntomcat-juli.jarï¼š\n\n- å°† **tomcat-juli.jar** æ·»åŠ åˆ° classPath ç¯å¢ƒå˜é‡ä¸­ã€‚\n- å°†æ—¥å¿—çš„é…ç½®æ–‡ä»¶è·¯å¾„æ·»åŠ åˆ° LOGGING_CONFIG ç¯å¢ƒå˜é‡ä¸­ã€‚\n\n> Apache Tomcatç”±ä¸€ä¸ªè‡ªå·±çš„å®ç°äº† java.util.logging å¤šä¸ªå…³é”®å…ƒç´ çš„å®ç°ã€‚è¿™ä¸ªå®ç°è¢«ç§°ä¸º JULI ã€‚å®ç°çš„æ ¸å¿ƒç»„ä»¶æ˜¯å®šåˆ¶åŒ–çš„ LogManager ï¼Œå¯ä»¥è·å–è¿è¡Œåœ¨Tomcatä¸­çš„ä¸åŒwebåº”ç”¨(ä»¥åŠä¸åŒçš„class loader)ã€‚ä»–æ”¯æŒä¸ºåº”ç”¨é…ç½®å•ç‹¬çš„æ—¥å¿—é…ç½®ã€‚å½“æœ‰webåº”ç”¨ä»å†…åœ¨ä¸­æ˜¯è¢«å¸è½½æ—¶ï¼Œä¼šæ¥åˆ°Tomcatçš„é€šçŸ¥ï¼Œä»¥ä¾¿ä»–æ‰€å¼•ç”¨çš„ç±»å¯ä»¥è¢«æ¸…é™¤ï¼Œé¿å…å†…å­˜æ³„éœ²ã€‚\n\n```bash\nrem Execute The Requested Command\necho Using CATALINA_BASE:   \"%CATALINA_BASE%\"\necho Using CATALINA_HOME:   \"%CATALINA_HOME%\"\necho Using CATALINA_TMPDIR: \"%CATALINA_TMPDIR%\"\nif \"\"%1\"\" == \"\"debug\"\" goto use_jdk\necho Using JRE_HOME:        \"%JRE_HOME%\"\ngoto java_dir_displayed\n:use_jdk\necho Using JAVA_HOME:       \"%JAVA_HOME%\"\n:java_dir_displayed\necho Using CLASSPATH:       \"%CLASSPATH%\"\n\nset _EXECJAVA=%_RUNJAVA%\nset MAINCLASS=org.apache.catalina.startup.Bootstrap\nset ACTION=start\nset SECURITY_POLICY_FILE=\nset DEBUG_OPTS=\nset JPDA=\n\nif not \"\"%1\"\" == \"\"jpda\"\" goto noJpda\nset JPDA=jpda\nif not \"%JPDA_TRANSPORT%\" == \"\" goto gotJpdaTransport\nset JPDA_TRANSPORT=dt_socket\n:gotJpdaTransport\nif not \"%JPDA_ADDRESS%\" == \"\" goto gotJpdaAddress\nset JPDA_ADDRESS=localhost:8000\n:gotJpdaAddress\nif not \"%JPDA_SUSPEND%\" == \"\" goto gotJpdaSuspend\nset JPDA_SUSPEND=n\n:gotJpdaSuspend\nif not \"%JPDA_OPTS%\" == \"\" goto gotJpdaOpts\nset JPDA_OPTS=-agentlib:jdwp=transport=%JPDA_TRANSPORT%,address=%JPDA_ADDRESS%,server=y,suspend=%JPDA_SUSPEND%\n:gotJpdaOpts\nshift\n:noJpda\n```\n\n- è®¾ç½®å¯åŠ¨ç±» - org.apache.catalina.startup.Bootstrap\n- è®¾ç½®è¿œç¨‹è°ƒè¯•ç›¸å…³å‚æ•° - JPDA\n\n```bash\nif \"\"%1\"\" == \"\"debug\"\" goto doDebug\nif \"\"%1\"\" == \"\"run\"\" goto doRun\nif \"\"%1\"\" == \"\"start\"\" goto doStart\nif \"\"%1\"\" == \"\"stop\"\" goto doStop\nif \"\"%1\"\" == \"\"configtest\"\" goto doConfigTest\nif \"\"%1\"\" == \"\"version\"\" goto doVersion\n\necho Usage:  catalina ( commands ... )\necho commands:\necho   debug             Start Catalina in a debugger\necho   debug -security   Debug Catalina with a security manager\necho   jpda start        Start Catalina under JPDA debugger\necho   run               Start Catalina in the current window\necho   run -security     Start in the current window with security manager\necho   start             Start Catalina in a separate window\necho   start -security   Start in a separate window with security manager\necho   stop              Stop Catalina\necho   configtest        Run a basic syntax check on server.xml\necho   version           What version of tomcat are you running?\ngoto end\n```\n\nè¿™é‡Œå€¼å¾—æ³¨æ„çš„ä¸”å¸¸ç”¨çš„(start / stop)ï¼Œæ­£å¦‚å¼€å¤´æåˆ°çš„ã€‚\n\n### org.apache.catalina\n\nè§£å‹ bin ç›®å½•ä¸­çš„ catalina.jar åæˆ‘ä»¬èƒ½æ‰¾åˆ° org.apache.catalina.startup.Bootstrap ä¹Ÿå°±æ˜¯ catalina.bat é‡Œè®¾ç½®çš„å¯åŠ¨ç±»(MAINCLASS)\n\n```java\npackage org.apache.catalina.startup;\npublic final class Bootstrap {\n    public static void main(String[] args) {\n        // --- ç•¥ ---\n        String command = \"start\";\n        if (args.length > 0) {\n            command = args[args.length - 1];\n        }\n        if (command.equals(\"start\")) {\n            daemon.setAwait(true);\n            daemon.load(args);\n            daemon.start();\n            if (null == daemon.getServer()) {\n                System.exit(1);\n            } else if (command.equals(\"stop\")) {\n                daemon.stopServer(args);\n            }\n        }\n        // --- ç•¥ ---\n    }\n}\n```\n\nå½“æŒ‡ä»¤ç­‰äº`start`æ—¶è¿è¡Œ Catalina.class ä¸­çš„ `start()`æ–¹æ³•ï¼š\n\n```java\npackage org.apache.catalina.startup;\n\npublic class Catalina {\n    public void start() {\n        // --- ç•¥ ---\n        if (this.await) {\n            this.await();\n            this.stop();\n        }\n    }\n}\n```\n\nåœ¨`start()`æ–¹æ³•ä¸­è°ƒç”¨äº†`await()`å’Œ`stop()`ä¸¤ä¸ªæ–¹æ³•ï¼š\n\n- `await()` æ–¹æ³•ç›‘å¬åœæ­¢æœåŠ¡è¯·æ±‚çš„æ–¹æ³•\n\n- `stop()` æ–¹æ³•æ˜¯åœæ­¢æœåŠ¡çš„æ–¹æ³•\n\n> `await()` æ–¹æ³•æ˜¯é˜»å¡æ–¹æ³•ï¼Œåªæœ‰å®¢æˆ·ç«¯è¯·æ±‚å…³é—­TomcatæœåŠ¡æ—¶ï¼Œä»–æ‰ä¼šæ‰§è¡Œ`stop()`æ–¹æ³•ï¼Œå¦åˆ™ä¸€ç›´ç­‰å¾…å…³é—­è¯·æ±‚ã€‚\n\nStandardServer.class ä¸­çš„ `await()` æ–¹æ³•ï¼š\n\n```java\npackage org.apache.catalina.core;\n\npublic final class StandardServer extends LifecycleMBeanBase implements Server {\n    private volatile ServerSocket awaitSocket = null;\n    private String shutdown = \"SHUTDOWN\";\n    \n    public void await() {\n        /* ç•¥ */\n        try {\n            this.awaitSocket = new ServerSocket(this.getPortWithOffset(), 1,InetAddress.getByName(this.address));\n        } catch (IOException var67) {\n            log.error(sm.getString(\"standardServer.awaitSocket.fail\", new Object[]{this.address,String.valueOf(this.getPortWithOffset()), String.valueOf(this.getPort()),String.valueOf(this.getPortOffset())}), var67);\n            return;\n        }\n        ServerSocket serverSocket;\n        try {\n            /* ç•¥ */\n             while(true) {\n                 label611: {\n                     label610: {\n                         try {\n                             label634: {\n                                 try {\n                                     // æ‰§è¡Œacceptç­‰å¾…è¯·æ±‚\n                                     socket = serverSocket.accept();\n                                     socket.setSoTimeout(10000);\n                                     stream = socket.getInputStream();\n                                 } catch (SocketTimeoutException var69) {\n                                     log.warn(sm.getString(\"standardServer.accept.timeout\", new Object[]{System.currentTimeMillis() - acceptStartTime}), var69);\n                                     continue;\n                                 }\n                                 /* ç•¥ */\n                             }\n                         }\n                     }\n                 }\n                 /* ç•¥ */\n                 boolean match = command.toString().equals(this.shutdown);\n                 // å¦‚æœè¯·æ±‚å†…å®¹ä¸ shutdown å­—æ®µç›¸åŒåˆ™è·³å‡ºå¾ªç¯ï¼ŒSocket æœåŠ¡åœæ­¢\n                 if (match) {\n                     log.info(sm.getString(\"standardServer.shutdownViaPort\"));\n                     var32 = false;\n                     break;\n                 }\n                 log.warn(sm.getString(\"standardServer.invalidShutdownCommand\", new Object[]{command.toString()}));\n             }\n        }\n        /* ç•¥ */\n    }\n}\n```\n\nå¯ä»¥çœ‹åˆ°è¿™é‡Œå¼€å¯äº†ä¸€ä¸ª ServerSocket ï¼Œè°ƒç”¨ accept() æ–¹æ³•ç›‘å¬è¯·æ±‚ã€‚\n\n`serverSocket.close()`ä¹‹å `start()`æ–¹æ³•ä¸­çš„`this.stop()`æ‰§è¡Œï¼ŒServer è¢«å…³é—­ã€‚\n\nå½“æŒ‡ä»¤ç­‰äº`stop`æ—¶è¿è¡Œ Catalina.class ä¸­çš„ `stopServer()`æ–¹æ³•ï¼š\n\n```java\npublic void stopServer(String[] arguments) {\n    if (arguments != null) {\n        this.arguments(arguments);\n    }\n    Server s = this.getServer();\n    if (s == null) {\n        /* ç•¥ */\n    } else {\n        try {\n            s.stop();\n            s.destroy();\n        } catch (LifecycleException var63) {\n            log.error(sm.getString(\"catalina.stopError\"), var63);\n        }\n    }\n}\n```\n\næ˜¾è€Œæ˜“è§ï¼ŒServer ä¸ä¸º null æ—¶ï¼Œåœæ­¢å¹¶ä¸”é”€æ¯ã€‚\n\n### Server ä¸­çš„ shutdown å±æ€§\n\n```bash\n<Server port=\"8085\" shutdown=\"SHUTDOWN\">\n```\n\nè¿™é‡Œ`shutdown`çš„é»˜è®¤å±æ€§å°±æ˜¯`SHUTDOWN`ï¼Œä¸ StandardServer ç±»ä¸­ shutdown å±æ€§çš„å€¼ä¸€æ ·ã€‚\n\n> å½“ç„¶ StandardServer ç±»ä¸­ shutdown å±æ€§æä¾›äº† setShutdown(String shutdown) æ–¹æ³•ã€‚\n\nåšä¸ªæµ‹è¯•ï¼Œæˆ‘ä»¬æ‰§è¡Œ startup.bat å…ˆå¯åŠ¨ Tomcat ï¼Œè·³å‡ºçª—å£å¹¶æ‰“å°æ—¥å¿—ï¼š\n\n```bash\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚Tomcat\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚Server.æœåŠ¡å™¨ç‰ˆæœ¬:Apache Tomcat/9.0.34\nâ”‚æœåŠ¡å™¨æ„å»º:Apr 3 2020 2020 12:02:52 UTC\nâ”‚æœåŠ¡å™¨ç‰ˆæœ¬å·(:9.0.34.0\nâ”‚# ç•¥\nâ”‚Server startup in [673] milliseconds\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\næˆ‘ä»¬å†å¯åŠ¨å¦ä¸€ä¸ªçª—å£ï¼Œè¿›å…¥`telnet`ï¼š\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚Command Prompt\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚Microsoft Windows [ç‰ˆæœ¬ 10.0.17763.1039]\nâ”‚(c) 2018 Microsoft Corporationã€‚ä¿ç•™æ‰€æœ‰æƒåˆ©ã€‚\nâ”‚C:\\Users\\Administrator>telnet localhost 8005\nâ”‚æ­£åœ¨è¿æ¥localhost...\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\nä¹‹åæˆ‘ä»¬å†åƒ8005ç«¯å£å‘é€ç‚¹ä¸œè¥¿\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚Telnet localhost\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚unshell\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\nå‘é€`unshell`å­—ç¬¦ä¸²ï¼ŒTomcatçª—å£æ‰“å°å‡ºæ–°çš„å†…å®¹\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚Tomcat\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚Server.æœåŠ¡å™¨ç‰ˆæœ¬:Apache Tomcat/9.0.34\nâ”‚æœåŠ¡å™¨æ„å»º:Apr 3 2020 2020 12:02:52 UTC\nâ”‚æœåŠ¡å™¨ç‰ˆæœ¬å·(:9.0.34.0\nâ”‚# ç•¥\nâ”‚Server startup in [673] milliseconds\nâ”‚Invalid shutdown command [unshell] received\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\nå¦‚æœå†…å®¹æ²¡æœ‰æ›´æ–°å¯ä»¥å°è¯•æŒ‰`enter`é”®\n\n```verilog\n# å®Œæ•´å†…å®¹å¦‚ä¸‹(å¯ä»¥çœ‹åˆ°è­¦å‘Šçš„æ–¹æ³•ï¼Œå°±å¦‚æˆ‘ä»¬ä¹‹å‰æ‰€è¯´çš„é‚£æ ·)\n23-Apr-2020 16:57:20.166 è­¦å‘Š [main] org.apache.catalina.core.StandardServer.await Invalid shutdown command [unshell] received\n```\n\næ‰€ä»¥å½“æˆ‘ä»¬è¾“å…¥æŒ‡ä»¤ä¸º`SHUTDOWN`æ—¶ï¼ŒTomcat å°±å…³é—­äº†ã€‚\n\nå½“ç„¶è¿™ä¸ªæŒ‡ä»¤é»˜è®¤ç›‘å¬`localhost`çš„å…³é—­è¯·æ±‚ï¼Œå¦‚æœè¦æ”¯æŒè¿œç¨‹å…³é—­çš„è¯ï¼Œå¯ä»¥æ·»åŠ å‚æ•° addressï¼Œä¾‹å­å¦‚ä¸‹ï¼š\n\n```bash\n<Server port=\"8085\" shutdown=\"SHUTDOWN\" address=\"36.152.44.95\">\n```\n\nå…·ä½“ç‰ˆæœ¬æ˜¯å¦æ”¯æŒè¯¥å‚æ•°ï¼Œè¿è¡Œ Tomcat ï¼Œæ–‡æ¡£åœ¨ `http://localhost:8080/docs/config/server.html`ä¸­æœ‰è¯´æ˜ã€‚\n\nè¿™é‡Œä»¥ç‰ˆæœ¬9ä¸ºä¾‹\n\nAll implementations of **Server** support the following attributesï¼š\n\n| Attribute | Description                                                  |\n| --------- | ------------------------------------------------------------ |\n| port      | The TCP/IP port number on which this server waits for a shutdown command. Set to `-1` to disable the shutdown port. |\n| shutdown  | The command string that must be received via a TCP/IP connection to the specified port number, in order to shut down Tomcat. |\n| address   | The TCP/IP address on which this server waits for a shutdown command. If no address is specified, `localhost` is used. |\n\n> ä»¥ä¸Šå°±æ˜¯æ‰€æœ‰å†…å®¹ï¼Œæœ¬æ–‡åªæ˜¯åœ¨ç†è§£ Tomcat æ—¶ï¼Œç¢°å·§çœ‹åˆ°çš„ä¸€äº›è¾¹ç¼˜å†…å®¹ï¼Œä½œä¸ºè®°å½•ä¿å­˜ä¸‹æ¥ã€‚\n\n### å¼•æ–‡\n\n- [Tomcat catalina.bat åŸç†è§£æ](https://www.jianshu.com/p/b2f63ffa964c)\n\n- [Tomcat æ€ä¹ˆåœæ­¢æœåŠ¡çš„?](https://cloud.tencent.com/developer/article/1129737)","tags":["tomcat"]},{"title":"å¿«é€Ÿä½¿ç”¨ Tomcat","url":"/blog/2020/04/23/å¿«é€Ÿä½¿ç”¨Tomcat/","content":"\n## ç¯å¢ƒ\n\nè¿è¡Œç¯å¢ƒï¼šWindows 10 | Apache Tomcat 9.0.34 | Java 1.8.0 | åšå®¢è®°å½•æ—¶é—´ï¼š2020-4-23 08:59:27\n\n### ä¸‹è½½ Tomcat\n\né¦–å…ˆè¿›å…¥åˆ° [Tomcatå®˜ç½‘](http://tomcat.apache.org/) ï¼Œè¿™é‡Œæˆ‘ä»¬ä»¥ [ç‰ˆæœ¬9](https://tomcat.apache.org/download-90.cgi) è¿›è¡Œä¸¾ä¾‹ (ç›®å‰æœ€æ–°ç‰ˆæœ¬ä¸º10)ã€‚\n\n### 9.0.34\n\n#### Binary Distributions\n\n- Core:\n  - [zip](https://mirror.bit.edu.cn/apache/tomcat/tomcat-9/v9.0.34/bin/apache-tomcat-9.0.34.zip) ([pgp](https://downloads.apache.org/tomcat/tomcat-9/v9.0.34/bin/apache-tomcat-9.0.34.zip.asc), [sha512](https://downloads.apache.org/tomcat/tomcat-9/v9.0.34/bin/apache-tomcat-9.0.34.zip.sha512))\n\nè¿™é‡Œæˆ‘ä»¬ç›´æ¥ç‚¹å‡» zip ä¸‹è½½ï¼Œä¸‹è½½å®Œä¹‹åæ–‡ä»¶ç›®å½•å¦‚ä¸‹ï¼š\n\n- apache-tomcat-9.0.34\n  - bin - è¿è¡Œæ–‡ä»¶ï¼ŒWindowsç¯å¢ƒä¸‹çš„.batå’ŒLinuxç¯å¢ƒä¸‹çš„.sh\n  - conf - å¸¸ç”¨åˆ°çš„ä¸€äº›é…ç½®æ–‡ä»¶\n  - lib - ä¸€äº› Java çš„ Jar åŒ…\n  - logs - æ—¥å¿—\n  - temp - ä¸´æ—¶æ–‡ä»¶\n  - webapps - é»˜è®¤è™šæ‹Ÿä¸»æœºçš„é»˜è®¤é¡¹ç›®æ ¹ç›®å½•\n  - work - é¡¹ç›®éƒ¨ç½²åçš„ç¼“å­˜æ–‡ä»¶ç›®å½•\n\né™¤äº†ä»¥å‰çš„æ–‡ä»¶å¤¹å¤–è¿˜æœ‰ä¸€äº›æ–‡ä»¶ï¼Œå¦‚ README.md æ–‡ä»¶\n\n> å®˜ç½‘ï¼šPlease see the README file for packaging information. It explains what every distribution contains. \n\n### è¿è¡Œ Tomcat\n\næˆ‘ä»¬å¯ä»¥çœ‹åˆ° webapps ç›®å½•ä¸‹æœ‰5ä¸ªåˆå§‹é¡¹ç›®ï¼š\n\n- webapps\n  - docs\n  - examples\n  - host-manager\n  - manager\n  - ROOT\n\n> Tomcat ä¸­ bin å’Œ lib æ–‡ä»¶ä¸­çš„ Jar åŒ…è¯´æ˜äº†éœ€è¦åœ¨ Java ç¯å¢ƒä¸‹è¿è¡Œ\n\nç„¶åæˆ‘ä»¬è¿è¡Œ bin ç›®å½•ä¸‹çš„ startup.bat æ–‡ä»¶ï¼Œå¦‚æœå‡ºç°ç»ˆç«¯çª—å£ä¸€ç›´åœ¨æ‰“å°æ—¥å¿—è¯´æ˜è¿è¡ŒæˆåŠŸï¼š\n\n```bash\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚Command Prompt\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚Server.æœåŠ¡å™¨ç‰ˆæœ¬:Apache Tomcat/9.0.34\nâ”‚æœåŠ¡å™¨æ„å»º:Apr 3 2020 2020 12:02:52 UTC\nâ”‚æœåŠ¡å™¨ç‰ˆæœ¬å·(:9.0.34.0\nâ”‚OS Name:Windows 10\nâ”‚OS.ç‰ˆæœ¬:10.0\nâ”‚æ¶æ„:amd64\nâ”‚Java ç¯å¢ƒå˜é‡: C:\\Program Files\\Java\\jdk1.8.0_251\\jre\nâ”‚JVM ç‰ˆæœ¬:1.8.0_251-b08\nâ”‚JVM.ä¾›åº”å•†:Oracle Corporation\nâ”‚--- ç•¥ ---\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\næ‰“å°çš„å†…å®¹å¤§è‡´å¦‚ä¸Šï¼Œè¿™æ—¶å€™ä½¿ç”¨æµè§ˆå™¨è®¿é—® `localhost:8080`ï¼Œå°±èƒ½çœ‹åˆ° Tomcat çš„å¦‚ä¸‹é¡µé¢ï¼š\n\n![webapps ç›®å½•ä¸‹çš„ ROOT é¡¹ç›®](/blog/image/tomcat/01.png)\n\n> å€¼å¾—æ³¨æ„çš„æ˜¯ work ç›®å½•ä¸­ç”Ÿæˆäº†å¯¹åº”é¡¹ç›®çš„æ–‡ä»¶å¤¹ï¼Œä½†å†…å®¹ä¸ºç©ºã€‚ä»¥åŠ logs æ–‡ä»¶ä¸­ç”Ÿæˆçš„æ—¥å¿—æ–‡ä»¶ï¼Œå¦‚ catalina.*.log ä¸­çš„å†…å®¹å°±æ˜¯ç»ˆç«¯çª—å£æ‰“å°çš„å†…å®¹ã€‚\n\n### æ—¥å¿—è¾“å‡ºä¹±ç é—®é¢˜\n\nå½“çª—å£è¿è¡Œæ—¶è¾“å‡ºçš„æ—¥å¿—å‡ºç°ä¹±ç ï¼Œå¦‚`æ·‡â„ƒä¼…`ä¹‹ç±»çš„å†…å®¹è¯´æ˜å½“å‰ç³»ç»Ÿçš„é»˜è®¤å­—ç¬¦ä¸ conf æ–‡ä»¶å¤¹ä¸­ logging.properties æ–‡ä»¶ä¸­ encoding å±æ€§è®¾ç½®ä¸ç›¸åŒ(é»˜è®¤é…ç½®ä¸ºUTF-8)ã€‚\n\n#### è§£å†³æ–¹æ³•\n\n```bash\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚Command Prompt\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚Microsoft Windows [ç‰ˆæœ¬ 10.0.17763.1039]\nâ”‚(c) 2018 Microsoft Corporationã€‚ä¿ç•™æ‰€æœ‰æƒåˆ©ã€‚\nâ”‚C:\\Users\\Administrator>chcp\nâ”‚æ´»åŠ¨ä»£ç é¡µ: 936\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\nè·å–å½“å‰ç³»ç»Ÿæ´»åŠ¨ä»£ç é¡µï¼Œæ‰¾åˆ°å¯¹åº”ç¼–ç ï¼Œå¦‚ä¸‹è¡¨ï¼š\n\n| æ´»åŠ¨ä»£ç é¡µ | ç¼–ç           |\n| ---------- | ------------- |\n| 936        | ç®€ä½“ä¸­æ–‡(GBK) |\n| 65001      | UTF-8Unicode  |\n\nç„¶åä¿®æ”¹ logging.properties ä¸­ encoding = GBKï¼Œå¦‚ä¸‹ï¼š\n\n```properties\n############################################################\n# Handler specific properties.\n# Describes specific configuration info for Handlers.\n############################################################\n1catalina.org.apache.juli.AsyncFileHandler.level = FINE\n1catalina.org.apache.juli.AsyncFileHandler.directory = ${catalina.base}/logs\n1catalina.org.apache.juli.AsyncFileHandler.prefix = catalina.\n1catalina.org.apache.juli.AsyncFileHandler.maxDays = 90\n1catalina.org.apache.juli.AsyncFileHandler.encoding = GBK\n```\n\n### å‘å¸ƒé¡¹ç›®\n\n#### 1.æ·»åŠ  war åŒ…åˆ° webapps ä¸­\n\n- webapps\n  - FlogShiro.war\n\n#### 2.æ‰§è¡Œ startup.bat æ–‡ä»¶ (å¦‚ä¹‹å‰åœ¨æ‰§è¡ŒçŠ¶æ€å…ˆæ‰§è¡Œ shutdown.bat æ–‡ä»¶)\n\næ‰“å°å‡ºæ—¥å¿—ï¼Œå¹¶ä¸”åœ¨webappsä¸­è§£å‹warï¼Œå¤šå‡ºé¡¹ç›®æ–‡ä»¶å¤¹ï¼š\n\n- webapps\n  - FlogShiro (è§£å‹çš„é¡¹ç›®æ–‡ä»¶)\n  - FlogShiro.war\n\n#### 3.è®¿é—®ç½‘ç«™\n\n`localhost:8080/FlogShiro/index.html`\n\né»˜è®¤ç›‘å¬ç«¯å£ä¸º`8080`ï¼Œé¡¹ç›®åä¸ºFlogShiroï¼Œå±•ç¤ºé¡µé¢ä¸ºindex.html\n\n> å…·ä½“å†…å®¹æ ¹æ®å®é™…æƒ…å†µå†³å®š\n\n### é…ç½®\n\nç›®å‰æˆ‘ä»¬è¿˜æ²¡æåˆ° conf æ–‡ä»¶å¤¹ï¼Œä»¥å‘å¸ƒé¡¹ç›®ä¸­çš„ä¾‹å­æŸ¥çœ‹ conf > server.xml æ–‡ä»¶\n\n```xml\n<!-- åˆ é™¤æ³¨è§£åå†…å®¹å¦‚ä¸‹ -->\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<Server port=\"8005\" shutdown=\"SHUTDOWN\">\n  <Listener className=\"org.apache.catalina.startup.VersionLoggerListener\" />\n  <Listener className=\"org.apache.catalina.core.AprLifecycleListener\" SSLEngine=\"on\" />\n  <Listener className=\"org.apache.catalina.core.JreMemoryLeakPreventionListener\" />\n  <Listener className=\"org.apache.catalina.mbeans.GlobalResourcesLifecycleListener\" />\n  <Listener className=\"org.apache.catalina.core.ThreadLocalLeakPreventionListener\" />\n\n  <GlobalNamingResources>\n    <Resource name=\"UserDatabase\" auth=\"Container\"\n              type=\"org.apache.catalina.UserDatabase\"\n              description=\"User database that can be updated and saved\"\n              factory=\"org.apache.catalina.users.MemoryUserDatabaseFactory\"\n              pathname=\"conf/tomcat-users.xml\" />\n  </GlobalNamingResources>\n\n  <Service name=\"Catalina\">\n    <Connector port=\"8080\" protocol=\"HTTP/1.1\"\n               connectionTimeout=\"20000\"\n               redirectPort=\"8443\" />\n    <Engine name=\"Catalina\" defaultHost=\"localhost\">\n      <Realm className=\"org.apache.catalina.realm.LockOutRealm\">\n        <Realm className=\"org.apache.catalina.realm.UserDatabaseRealm\"\n               resourceName=\"UserDatabase\"/>\n      </Realm>\n\n      <Host name=\"localhost\"  appBase=\"webapps\"\n            unpackWARs=\"true\" autoDeploy=\"true\">\n        <Valve className=\"org.apache.catalina.valves.AccessLogValve\" directory=\"logs\"\n               prefix=\"localhost_access_log\" suffix=\".txt\"\n               pattern=\"%h %l %u %t &quot;%r&quot; %s %b\" />\n      </Host>\n    </Engine>\n  </Service>\n</Server>\n```\n\nè¿™é‡Œæˆ‘ä»¬å€¼å¾—æ³¨æ„çš„å°±æ˜¯ `Server`ã€`Service` å’Œ `Connector` ä»¥åŠ `Host`\n\n- Server\n  - port ï¼ˆæœåŠ¡å™¨ç›‘å¬ç«¯å£ï¼‰\n  - shutdown (å…³é—­æŒ‡ä»¤)\n- Service\n  - name (æœåŠ¡å)\n- Connector\n  - port (æœåŠ¡ç›‘å¬ç«¯å£)\n  - protocol (åè®®ç±»å‹)\n  - connectionTimeout (è¿æ¥è¶…æ—¶)\n  - redirectPort (ç«¯å£é‡å®šå‘)\n- Host\n  - name (è™šæ‹Ÿä¸»æœºåç§°)\n  - appBase (é¡¹ç›®æ ¹ç›®å½•)\n  - unpackWARs (è§£å‹WaråŒ…)\n  - autoDeploy (è‡ªåŠ¨éƒ¨ç½²)\n\næ˜¾è€Œæ˜“è§ï¼Œä»¥å‘å¸ƒé¡¹ç›®çš„ä¾‹å­å¯ä»¥çœ‹å‡ºåä¸º localhost çš„è™šæ‹Ÿä¸»æœºçš„æ ¹ç›®å½•ä¸º webapps ï¼Œå¹¶ä¸”é…ç½®äº†è§£å‹ war åŒ…ï¼ŒServiceç›‘å¬çš„ç«¯å£ä¸º `8080` ã€‚\n\næ‰€ä»¥å½“æˆ‘ä»¬è®¿é—® `localhost:8080` è®¿é—®åˆ°äº† webapps ç›®å½•ä¸‹çš„ROOTï¼Œè€Œè®¿é—® `localhost:8080/FlogShiro` åˆ™è®¿é—®åˆ°äº†æŒ‡å®šFlogShiroé¡¹ç›®ã€‚\n\n### è™šæ‹Ÿä¸»æœº\n\nä¸ºä»€ä¹ˆæˆ‘ä»¬è®¿é—® `localhost` å’Œ `127.0.0.1` è®¿é—®åˆ°çš„ä¸œè¥¿æ˜¯ä¸€æ ·ï¼Œå› ä¸ºæœ¬æœºå·²ç»åšå¥½äº†IPå’ŒåŸŸåçš„æœ¬åœ°æ˜ å°„\n\næ‰¾åˆ° C:\\Windows\\System32\\drivers\\etc ä¸­çš„`hosts`æ–‡ä»¶(Cä¸ºç³»ç»Ÿç›˜)\n\n```\n# Copyright (c) 1993-2009 Microsoft Corp.\n#\n# This is a sample HOSTS file used by Microsoft TCP/IP for Windows.\n#\n# This file contains the mappings of IP addresses to host names. Each\n# entry should be kept on an individual line. The IP address should\n# be placed in the first column followed by the corresponding host name.\n# The IP address and the host name should be separated by at least one\n# space.\n#\n# Additionally, comments (such as these) may be inserted on individual\n# lines or following the machine name denoted by a '#' symbol.\n#\n# For example:\n#\n#      102.54.94.97     rhino.acme.com          # source server\n#       38.25.63.10     x.acme.com              # x client host\n\n# localhost name resolution is handled within DNS itself.\n# æœ¬åœ°ä¸»æœºåç§°è§£ææ˜¯åœ¨DNSæœ¬èº«å†…å¤„ç†çš„ã€‚\n#\t127.0.0.1       localhost\n#\t::1             localhost\n```\n\nä½ å¯ä»¥æŒ‰ç…§ä¸Šé¢çš„ `example` æ·»åŠ è™šæ‹Ÿä¸»æœºåç§°ï¼Œè¿™æ ·Tomcaté…ç½®æ–‡ä»¶å¤¹ä¸‹server.xmlä¸­Hostå±æ€§nameå¯ä»¥ä½¿ç”¨æ·»åŠ çš„ä¸»æœºåç§°ã€‚\n\n> å½“ç„¶å¦‚æœä½ ä¸æƒ³åœ¨ webapps ä¸­æ·»åŠ é¡¹ç›®ï¼Œä½ ä¹Ÿå¯ä»¥æ–°æ·»åŠ çš„ä¸»æœºä¸­é…ç½®å…¶ä»–æ–‡ä»¶å¤¹é—®æ ¹ç›®å½•ã€‚\n>\n> æ³¨æ„ï¼šåœ¨è®¿é—®ä¸­(å…·ä½“å¾—çœ‹å®é™…æƒ…å†µ)ï¼Œwebapps ä¸­å¯èƒ½å­˜åœ¨ä¸€äº›ä¼šå‘ç”Ÿå†²çªçš„é¡¹ç›®åï¼Œå¦‚ manager\n\n### ç›¸å…³æ–‡æ¡£\n\n- [Apache Tomcat 9 (9.0.36) - Documentation Index](https://tomcat.apache.org/tomcat-9.0-doc/index.html)","tags":["fast"]},{"title":"æ­£åˆ™è¡¨è¾¾å¼","url":"/blog/2020/04/22/æ­£åˆ™è¡¨è¾¾å¼/","content":"\n> è™½ç„¶æ­£åˆ™å†…å®¹ä¸ç®—å¾ˆå¤šä½†æ˜¯ç”¨å¥½æ­£åˆ™è¿˜æ˜¯å¾—èŠ±ä¸€äº›æ—¶é—´çš„ï¼Œè¿™ç¯‡æ–‡ç« åªæ˜¯åšç®€å•çš„è®°å½•\n\n### è¿ç®—ç¬¦ç±»å‹\n\n- è½¬ä¹‰ç¬¦ ` /` \n- åœ†æ‹¬å·å’Œæ–¹æ‹¬å· ` ()` ã€` []` \n- é™å®šç¬¦ ` *` ã€` +` ã€`?` ã€`{n}`ã€`{n,}`ã€` {n,m}` \n- å®šä½ç‚¹å’Œåºåˆ— ` ^` ã€` $` ã€` \\` \n- æ›¿æ¢ï¼Œæˆ–æ“ä½œ ` |` \n\n### æ³¨æ„ç‚¹\n\nä»¥JavaScriptä¸ºä¾‹ä½¿ç”¨æ­£åˆ™çš„æ–¹æ³•ï¼š\n- /[a-z]*/\n- ^[a-z]*$\n\nåœ†æ‹¬å·ç›¸å½“äºå­è¡¨è¾¾å¼ï¼Œç±»ä¼¼ç»„çš„æ¦‚å¿µå¯ä»¥è¢«é‡å¤ä½¿ç”¨\n- /\\b([a-z]+) \\1\\b/\n- /\\b([a-z]+) ([a-z]+)\\b/\n\nä¸¤è€…æ•ˆæœä¸€æ ·\n\n`^`è™½ç„¶ä¸ºå®šä½ç¬¦ï¼Œä½†æ˜¯åœ¨`[]`ä¸­èµ·åˆ°éçš„ä½œç”¨\n\n### æ¨èç½‘ç«™\n\n- [ä»¥SVGçš„æ ·å¼å±•ç¤ºæ­£åˆ™çš„è§„åˆ™](https://regexper.com/)\n- [æ¯”è¾ƒå®ç”¨çš„æ­£åˆ™æ£€æµ‹ç½‘ç«™](https://regex101.com/)","tags":["regex"]},{"title":"CentOs å®‰è£… MySql","url":"/blog/2020/04/21/CentOså®‰è£…MySql/","content":"\n## å®‰è£…ç¯å¢ƒ\n\nç³»ç»Ÿï¼šCentOS Linux release 8.1.1911 (Core) | MySQLç‰ˆæœ¬ï¼š8.0.17 | åšå®¢è®°å½•æ—¶é—´ï¼š2020-4-21 15:21:36\n\n## å®‰è£…MySQL\n\næŸ¥çœ‹MySQL [å®˜ç½‘](https://www.mysql.com/) æä¾›çš„ [MySQL Yum Repository](https://dev.mysql.com/downloads/repo/yum/) ï¼Œè¿™é‡Œæˆ‘ä»¬é€‰æ‹© **Red Hat Enterprise Linux 8 / Oracle Linux 8 (Architecture Independent), RPM Package**\n\n> æ ¹æ®è‡ªå·±çš„ Linux ç‰ˆæœ¬æŒ‘é€‰ RPM Package ç‰ˆæœ¬ï¼Œè¿™é‡Œæ¼”ç¤ºçš„ç¯å¢ƒæ˜¯ Linux 8\n\n### å¼€å§‹ä¹‹å‰\n\n```shell\n# ç›´æ¥åˆ‡æ¢æˆrootè´¦å·,é¿å…æƒé™ä¸è¶³é€ æˆå…¶ä»–é—®é¢˜\n[unshell@localhost /]$ su root\nPassword: \n[root@localhost /]# \n# å½“ç„¶ä½ å¦‚æœä¸æƒ³åˆ‡æ¢è´¦å·,é‚£åœ¨éœ€è¦æƒé™çš„å‘½ä»¤å‰åŠ ä¸Šsudo\n[unshell@localhost /]$ sudo [éœ€è¦æƒé™çš„å‘½ä»¤]\nPassword:\n```\n\n### å®‰è£…YUMä»“åº“\n\n```bash\n# ä¸‹è½½åˆ°å½“å‰ç›®å½•ä¸‹\nwget https://repo.mysql.com//mysql80-community-release-el8-1.noarch.rpm\n# ä½¿ç”¨ yum æœ¬åœ°å®‰è£…\nyum localinstall mysql80-community-release-el8-1.noarch.rpm\n# æŸ¥çœ‹åŒ…æºæ˜¯å¦å®‰è£…æˆåŠŸ\nyum repolist enabled | grep \"mysql.*-community.*\"\n# è¾“å‡ºå†…å®¹å¦‚ä¸‹\nmysql-connectors-community           MySQL Connectors Community              42\nmysql-tools-community                MySQL Tools Community                   19\nmysql80-community                    MySQL 8.0 Community Server              31\n```\n\n### é…ç½®MySQLæœåŠ¡\n\n```bash\n# å®‰è£…MySQLæœåŠ¡\nyum install mysql-server\n# å¯åŠ¨MySQLæœåŠ¡\nsystemctl start mysqld\n# æŸ¥çœ‹MySQLæœåŠ¡çŠ¶æ€\nsystemctl status mysqld\n# è¾“å‡ºå¦‚ä¸‹åˆ™è¡¨ç¤ºå¼€å¯\nâ— mysqld.service - MySQL 8.0 database server\n   Loaded: loaded (/usr/lib/systemd/system/mysqld.service; disabled; vendor preset: disabled)\n   Active: active (running) since Tue 2020-04-21 16:22:47 CST; 10s ago\n  Process: 11914 ExecStartPost=/usr/libexec/mysql-check-upgrade (code=exited, status=0/SUCCESS)\n  Process: 11787 ExecStartPre=/usr/libexec/mysql-prepare-db-dir mysqld.service (code=exited, status=0/SUCCESS)\n  Process: 11763 ExecStartPre=/usr/libexec/mysql-check-socket (code=exited, status=0/SUCCESS)\n Main PID: 11871 (mysqld)\n   Status: \"Server is operational\"\n    Tasks: 39 (limit: 4888)\n   Memory: 328.3M\n   CGroup: /system.slice/mysqld.service\n           â””â”€11871 /usr/libexec/mysqld --basedir=/usr\n```\n\n### é…ç½®MySQLæ•°æ®åº“\n\n```mysql\n# æŸ¥çœ‹MySQLæœåŠ¡æ—¥å¿—ä¸passwordç›¸å…³çš„å†…å®¹\ngrep 'password' /var/log/mysql/mysqld.log\n# æ¼”ç¤ºæ—¶è¾“å‡ºå¦‚ä¸‹\n2020-04-21T08:22:41.675426Z 5 [Warning] [MY-010453] [Server] root@localhost is created with an empty password ! Please consider switching off the --initialize-insecure option.\n# è¿™é‡Œæç¤ºæˆ‘ä»¬Serverä¸ºroot@localhostè´¦å·åˆ›å»ºäº†ä¸ªç©ºçš„å¯†ç ,æˆ‘ä»¬è¿™é‡Œç›´æ¥ç™»å…¥MySQL\nmysql -u root -p\nEnter password: \n# ç›´æ¥å›è½¦ï¼Œè¾“å‡ºå¦‚ä¸‹åŠç™»å…¥æˆåŠŸ\nWelcome to the MySQL monitor.  Commands end with ; or \\g.\nYour MySQL connection id is 8\nServer version: 8.0.17 Source distribution\n\nCopyright (c) 2000, 2019, Oracle and/or its affiliates. All rights reserved.\n\nOracle is a registered trademark of Oracle Corporation and/or its\naffiliates. Other names may be trademarks of their respective\nowners.\n\nType 'help;' or '\\h' for help. Type '\\c' to clear the current input statement.\n# ä¿®æ”¹root@localhostçš„å¯†ç (è¿™é‡Œæ¼”ç¤ºä¿®æ”¹å¯†ç ä¸ºï¼šqwe123)\nmysql> ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY 'qwe123';\nQuery OK, 0 rows affected (0.08 sec)\n# ä¸ºå¤–ç½‘è®¿é—®æ·»åŠ è´¦æˆ·(%ä»£è¡¨æ‰€æœ‰åœ°å€éƒ½å¯èƒ½è®¿é—®,ä½¿ç”¨æ—¶æ ¹æ®å®é™…æƒ…å†µ)\nCREATE USER 'unshell'@'%' IDENTIFIED BY 'qwe123';\n# æˆäºˆæƒé™(è¿™é‡Œæ¼”ç¤ºæä¾›æ‰€æœ‰æƒé™,ä½¿ç”¨æ—¶æ ¹æ®å®é™…æƒ…å†µ)\nGRANT ALL ON *.* TO 'unshell'@'%' WITH GRANT OPTION;\n```\n\n### å¼€å¯é˜²ç«å¢™å¯¹åº”ç«¯å£\n\n```bash\n# å¼€æ”¾é»˜è®¤3306ç«¯å£\nfirewall-cmd --add-port=3306/tcp --permanent\n# è¾“å‡ºsuccessè¯´æ˜æˆåŠŸ\nsuccess\n# æ›´æ–°é˜²ç«å¢™è§„åˆ™\nfirewall-cmd --reload\n# æŸ¥çœ‹é˜²ç«å¢™çŠ¶å†µ\nfirewall-cmd --list-all\n# è¾“å‡ºå†…å®¹å¦‚ä¸‹è¯´æ˜æˆåŠŸæ·»åŠ 3306ç«¯å£\npublic (active)\n  target: default\n  icmp-block-inversion: no\n  interfaces: ens160\n  services: cockpit dhcpv6-client ssh\n  ports: 3306/tcp \n# å¦‚æœæœªæˆåŠŸï¼Œå¯ä»¥å°è¯•é‡å¯é˜²ç«å¢™\nfirewall-cmd --complete-reload\n```\n\n## å¸è½½MySQL\n\n```bash\n# å…³é—­MySQLæœåŠ¡\nsystemctl stop mysqld\n# æŸ¥æ‰¾å·²å®‰è£…çš„MySQlç›¸å…³çš„åŒ…\nrpm -qa|grep -i mysql\n# ç§»é™¤è¾“å‡ºçš„åŒ…\nyum remove [package]\n# æŸ¥è¯¢ç›¸å…³çš„æ–‡ä»¶å¤¹\nfind / -name mysql\n# åˆ é™¤è¾“å‡ºçš„æ–‡ä»¶å¤¹\nrm -rf [directory]\n# æœ‰éœ€è¦çš„è¯ä¹Ÿå¯ä»¥3306ç«¯å£\nfirewall-cmd --permanent --remove-port=3306/tcp\n```\n\n### ç›¸å…³æ–‡æ¡£\n\n- [Installing MySQL on Linux Using the MySQL Yum Repository](https://dev.mysql.com/doc/refman/8.0/en/linux-installation-yum-repo.html)","tags":["mysql"]},{"title":"Windows å®‰è£… Mysql","url":"/blog/2020/03/03/Windowså®‰è£…Mysql/","content":"\n## ç¯å¢ƒ\n\næ“ä½œç³»ç»Ÿï¼šWindows 10 | MySQL ç‰ˆæœ¬ 8.0.16 | åšå®¢è®°å½•æ—¶é—´ï¼š2020/3/1 16:05\n\n### å®‰è£… MySQL Community Server\n\nè¿›å…¥ MySQLå®˜ç½‘ [ä¸‹è½½æœ€æ–°ç‰ˆ](https://dev.mysql.com/downloads/mysql/) æˆ– [å…¶ä»–ç‰ˆæœ¬](https://downloads.mysql.com/archives/community/) ZIP Archiveï¼š\n\n![fast-use-mysql01](/blog/image/mysql/fast-use-mysql01.png)\n\n> å½“å‰æœ€é«˜ç‰ˆæœ¬æ˜¯8.0.19ï¼Œæˆ‘ä»¬è¿™é‡Œæ‹¿8.0.16åšæ¼”ç¤ºï¼Œç›®å‰æ¥è¯´8ç³»åˆ—å®‰è£…éƒ½å·®ä¸å¤š\n\nç‚¹å‡»ä¸‹è½½åè¿›å…¥åˆ°ä¸‹ä¸ªé¡µé¢ï¼Œé€‰æ‹© No thanks, just start my downloadï¼š\n\n![fast-use-mysql02](/blog/image/mysql/fast-use-mysql02.png)\n\nä¸‹è½½å®Œä¹‹åè¿›è¡Œè§£å‹ï¼Œè¿™é‡Œæˆ‘ä»¬æŠŠå‹ç¼©åŒ…è§£å‹åœ¨ F:\\mysql\n\nä»¥ **ç®¡ç†å‘˜çš„èº«ä»½** æ‰“å¼€ cmd å‘½ä»¤è¡Œå·¥å…·ï¼Œåˆ‡æ¢ç›®å½•å¹¶è¾“å…¥ mysql å¦‚ä¸‹ï¼š\n\n```shell\ncd F:\\mysql\\bin\nmysql\n// å¦‚æœè¾“å‡ºå¦‚ä¸‹ï¼Œå°±å¯ä»¥å¼€å§‹è£…è½½æœåŠ¡äº†\nERROR 2003 (HY000): Can't connect to MySQL server on 'localhost' (10061)\n```\n\n> å¦‚æœä½ çš„ç³»ç»Ÿç‰¹åˆ«å¹²å‡€ï¼Œå¯èƒ½ä¼šè·³å‡ºæç¤ºæ¡†æç¤ºä½ ç¼ºå°‘dllæ–‡ä»¶ï¼Œåªè¦æŠŠ [msvcp140.dll](/blog/image/mysql/msvcp140.dll) å’Œ [vcruntime140.dll](/blog/image/mysql/vcruntime140.dll) æ”¾åœ¨ ç³»ç»Ÿç›˜çš„Windows\\System32 æ–‡ä»¶å¤¹ä¸‹å†è¾“å…¥ mysql å°±å¯ä»¥äº†ã€‚\n\n### é…ç½® MySQL æœåŠ¡\n\nåœ¨é…ç½® MySQL æœåŠ¡ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆé…ç½®ä¸‹ MySQL çš„é…ç½®æ–‡ä»¶ï¼Œåˆ›å»ºåä¸º **my.ini** çš„æ–‡ä»¶åœ¨ F:\\mysql\\ ç›®å½•ä¸‹ï¼Œé…ç½®å†…å®¹å¦‚ä¸‹ï¼š\n\n```ini\n[client]\n# è®¾ç½®mysqlå®¢æˆ·ç«¯é»˜è®¤å­—ç¬¦é›†\ndefault-character-set=utf8mb4\n\n[mysqld]\n# è®¾ç½®3306ç«¯å£\nport = 3306\n# è®¾ç½®mysqlçš„å®‰è£…ç›®å½•\nbasedir=F:\\\\mysql\n# è®¾ç½® mysqlæ•°æ®åº“çš„æ•°æ®çš„å­˜æ”¾ç›®å½•ï¼ŒMySQL 8+ ä¸éœ€è¦ä»¥ä¸‹é…ç½®ï¼Œç³»ç»Ÿè‡ªå·±ç”Ÿæˆå³å¯ï¼Œå¦åˆ™æœ‰å¯èƒ½æŠ¥é”™\n# datadir=F:\\\\sqldata\n# å…è®¸æœ€å¤§è¿æ¥æ•°\nmax_connections=100\n# æœåŠ¡ç«¯ä½¿ç”¨çš„å­—ç¬¦é›†é»˜è®¤ä¸º8æ¯”ç‰¹ç¼–ç çš„latin1å­—ç¬¦é›†\ncharacter-set-server=utf8mb4\n# åˆ›å»ºæ–°è¡¨æ—¶å°†ä½¿ç”¨çš„é»˜è®¤å­˜å‚¨å¼•æ“\ndefault-storage-engine=INNODB\n```\n\nä¹‹åæˆ‘ä»¬å†ä½¿ç”¨ cmd å‘½ä»¤è¡Œå·¥å…·åˆå§‹åŒ–æ•°æ®åº“ï¼š\n\n```shell\nmysqld --initialize --console\n```\n\n- --initialize : åˆå§‹åŒ–\n- --console : è¾“å‡ºåœ¨æ§åˆ¶å°\n\næ‰§è¡Œå®Œæˆåï¼Œä¼šè¾“å‡º root ç”¨æˆ·çš„åˆå§‹åŒ–å¯†ç ï¼Œå¦‚ä¸‹ï¼š\n\n```shell\n....\n[Note] [MY-010454] [Server] A temporary password is generated for root@localhost: g)tqN+Oia4_a\n....\n```\n\n**g)tqN+Oia4_a** å°±æ˜¯åˆå§‹åŒ–å¯†ç ï¼Œä¹‹åç™»å…¥ä¼šç”¨åˆ°ï¼š\n\nè¾“å…¥ä»¥ä¸‹å®‰è£…å‘½ä»¤ï¼š\n\n```shell\nmysqld install\n```\n\nä¹‹åå¯åŠ¨æœåŠ¡ï¼š\n\n```shell\nnet start mysql\n```\n\n### ç™»å…¥MySQL\n\n```shell\nmysql -h ä¸»æœºå -u ç”¨æˆ·å -p\n```\n\nå‚æ•°è¯´æ˜ï¼š\n\n- -hï¼šæŒ‡å®šå®¢æˆ·ç«¯è¦ç™»å½•çš„ MySQL ä¸»æœºåï¼Œç™»å½•æœ¬æœºï¼ˆlocalhost æˆ– 127.0.0.1ï¼‰è¯¥å‚æ•°å¯ä»¥çœç•¥ï¼›\n- -uï¼šç™»å½•çš„ç”¨æˆ·åï¼›\n- -pï¼šå‘Šè¯‰æœåŠ¡å™¨å°†ä¼šä½¿ç”¨ä¸€ä¸ªå¯†ç æ¥ç™»å½•ï¼Œå¦‚æœæ‰€è¦ç™»å½•çš„ç”¨æˆ·åå¯†ç ä¸ºç©º, å¯ä»¥å¿½ç•¥æ­¤é€‰é¡¹ã€‚\n\nç™»å…¥å®ä¾‹å¦‚ä¸‹ï¼š\n\n```shell\nmysql -u root -p\n```\n\næŒ‰ Enter é”®åç¡®è®¤ï¼Œå¦‚æœMySQLæ­£åœ¨è¿è¡Œåˆ™ä¼šå¾—åˆ°å¦‚ä¸‹å“åº”ï¼š\n\n```shell\nEnter password:\n```\n\nè¾“å…¥åˆšæ‰çš„å¯†ç ï¼š**g)tqN+Oia4_a**\n\n```shell\nWelcome to the MySQL monitor.  Commands end with ; or \\g.\nYour MySQL connection id is 9\nServer version: 8.0.16 MySQL Community Server - GPL\n\nCopyright (c) 2000, 2019, Oracle and/or its affiliates. All rights reserved.\n\nOracle is a registered trademark of Oracle Corporation and/or its\naffiliates. Other names may be trademarks of their respective\nowners.\n\nType 'help;' or '\\h' for help. Type '\\c' to clear the current input statement.\nmysql>\n\n```\n\nå¦‚æœè¾“å‡ºä¸ºä»¥ä¸Šçš„å†…å®¹è¯´æ˜å·²ç»å¯ä»¥ç™»å½• MySQL äº†ã€‚\n\n### ä¿®æ”¹å¯†ç \n\nå€¼å¾—ä¸€æçš„æ˜¯MySQL 8å’Œä½ç‰ˆæœ¬çš„MySQLä¿®æ”¹å¯†ç çš„æ–¹å¼æœ‰å·®åˆ«ï¼Œè€Œä¸”å¯†ç çš„ç¼–ç æ–¹å¼ä¹Ÿæœ‰åŒºåˆ«\n\n```mysql\nmysql> ALTER USER 'root'@'localhost' IDENTIFIED BY 'qwe123';\nQuery OK, 0 rows affected (0.34 sec)\n\n```\n\nå¦‚æœä½ ä½¿ç”¨æ•°æ®åº“è¿æ¥å·¥å…·ï¼Œå¦‚ **Navicat Premium** è¿æ¥çš„æ—¶å€™å¯èƒ½åœ¨å½“å‰ç‰ˆæœ¬å¾—ä¿®æ”¹å¯†ç ç¼–ç æ–¹å¼ï¼Œå¦è€…ä¼šæç¤ºï¼š\n\n> [ERROR 2059] - Authentication plugin 'caching_sha2_password' cannot be loaded...\n\nä¿®æ”¹å¯†ç ç¼–ç æ–¹å¼å¦‚ä¸‹ï¼š\n\n```mysql\nmysql> ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY 'qwe123';\nQuery OK, 0 rows affected (0.12 sec)\nmysql> FLUSH PRIVILEGES;\nQuery OK, 0 rows affected (0.04 sec)\nmysql> SELECT HOST,USER,PLUGIN FROM MYSQL.USER;\n+-----------+------------------+-----------------------+\n| HOST      | USER             | PLUGIN                |\n+-----------+------------------+-----------------------+\n| localhost | mysql.infoschema | caching_sha2_password |\n| localhost | mysql.session    | caching_sha2_password |\n| localhost | mysql.sys        | caching_sha2_password |\n| localhost | root             | mysql_native_password |\n+-----------+------------------+-----------------------+\n4 rows in set (0.00 sec)\n\n```\n\nå¯ä»¥çœ‹åˆ°ç”¨æˆ·ä¸º root çš„ PLUGIN å·²ç»æ”¹æˆäº† mysql_native_passwordã€‚\n\nåˆ°è¿™é‡Œå°±ä¸€åˆ‡å‡†å¤‡å°±ç»ªäº†ï¼\n\n## åˆ é™¤ MySQL Community Server\n\n### åœæ­¢æœåŠ¡\n\nä½¿ç”¨ç®¡ç†å‘˜èº«ä»½æ‰“å¼€ CMD ï¼Œè¾“å…¥net stop mysqlï¼š\n\n```shell\nnet stop mysql\nMySQL æœåŠ¡æ­£åœ¨åœæ­¢...\nMySQL æœåŠ¡å·²æˆåŠŸåœæ­¢ã€‚\n// å¦‚æœä¸æ˜¯ç®¡ç†å‘˜èº«ä»½å¯èƒ½å‘ç”Ÿä¸‹é¢çš„æƒ…å†µ\nå‘ç”Ÿç³»ç»Ÿé”™è¯¯ 5ã€‚\næ‹’æ¥è®¿é—®ã€‚\n```\n\n### åˆ é™¤ Windows æ³¨å†Œè¡¨\n\n```shell\nsc delete mysql\n[SC] DeleteService æˆåŠŸ\n```\n\n### åˆ é™¤ç¯å¢ƒå˜é‡\n\nå¦‚æœä¹‹å‰æœ‰é…ç½®ç¯å¢ƒå˜é‡çš„è¯ï¼Œå°†Pathé‡Œå…³äºMySQLçš„ç¯å¢ƒå˜é‡åˆ é™¤å³å¯\n\n### ç›¸å…³æ–‡æ¡£\n\n- [MySQL å®‰è£… | èœé¸Ÿæ•™ç¨‹](https://www.runoob.com/mysql/mysql-install.html)\n- [Installing MySQL on Microsoft Windows](https://dev.mysql.com/doc/refman/8.0/en/windows-installation.html)","tags":["windows"]}]